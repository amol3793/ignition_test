{
  "name": "Autogrid",
  "tagType": "Folder",
  "tags": [
    {
      "name": "GIT_UDT_TAG_TESTING",
      "typeId": "",
      "tagType": "UdtType"
    },
    {
      "name": "UDT_Mother",
      "parameters": {
        "SiteName": {
          "dataType": "String",
          "value": "SiteNameDefault"
        },
        "SiteDesc": {
          "dataType": "String",
          "value": "SiteDescDefault"
        },
        "OPCServer": {
          "dataType": "String",
          "value": "Ignition OPC UA Server"
        }
      },
      "tagType": "UdtType",
      "tags": [
        {
          "value": {
            "bindType": "parameter",
            "binding": "{SiteDesc}"
          },
          "valueSource": "memory",
          "dataType": "String",
          "name": "SiteDesc",
          "tagType": "AtomicTag"
        },
        {
          "value": {
            "bindType": "parameter",
            "binding": "{SiteName}"
          },
          "valueSource": "memory",
          "dataType": "String",
          "name": "SiteName",
          "tagType": "AtomicTag"
        },
        {
          "opcItemPath": {
            "bindType": "parameter",
            "binding": "ns\u003d1;s\u003d[{SiteName}][Diagnostics]/Connected"
          },
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPCServer}"
          },
          "valueSource": "opc",
          "dataType": "String",
          "alarms": [
            {
              "setpointA": 0.0,
              "timeOnDelaySeconds": 30.0,
              "name": "Alarm",
              "label": "Network connectivity",
              "priority": "High",
              "displayPath": ""
            }
          ],
          "name": "Network Connectivity",
          "tagType": "AtomicTag"
        }
      ]
    },
    {
      "name": "NotUsed",
      "tagType": "Folder",
      "tags": [
        {
          "name": "SFType5",
          "typeId": "",
          "parameters": {
            "flex_Number_Inverters_Running_tag": {
              "dataType": "String",
              "value": "NBR_INVERTERS_RUNNING"
            },
            "controller_Power_Curtailment_Setpoint_Feedback_address": {
              "dataType": "String",
              "value": ""
            },
            "flex_Number_Inverters_Faulty_Com_tag": {
              "dataType": "String",
              "value": "NBR_INVERTERS_FAULTY_COM"
            },
            "flex_Measured_Temperature_tag": {
              "dataType": "String",
              "value": "TEMP_RAW"
            },
            "flex_Stop_Command_tag": {
              "dataType": "String",
              "value": "DISPATCH_STOP_COMMAND"
            },
            "controller_Watchdog_address": {
              "dataType": "String",
              "value": ""
            },
            "controller_Measured_Precipitation_address": {
              "dataType": "String"
            },
            "controller_Start_Command_address": {
              "dataType": "String"
            },
            "controller_Measured_Module_Temperature_address": {
              "dataType": "String"
            },
            "controller_Stop_Command_address": {
              "dataType": "String"
            },
            "kafkaDevicePathPrefix": {
              "dataType": "String",
              "value": "[AutoGrid Kafka]"
            },
            "flex_Measured_Module_Temperature_tag": {
              "dataType": "String",
              "value": "TEMP_MODULE_RAW"
            },
            "flex_Inverter_Error_tag": {
              "dataType": "String",
              "value": "STATE_RAW"
            },
            "controller_Measured_Temperature_address": {
              "dataType": "String",
              "value": ""
            },
            "controller_Inverter_Error_address": {
              "dataType": "String",
              "value": ""
            },
            "flex_Power_Curtailment_Setpoint_tag": {
              "dataType": "String",
              "value": "ACTIVE_POWER_CURT"
            },
            "opcServerTopicName": {
              "dataType": "String"
            },
            "controller_Measured_Solar_Irradiance_address": {
              "dataType": "String",
              "value": ""
            },
            "opcServerName": {
              "dataType": "String",
              "value": "Ignition OPC UA Server"
            },
            "controller_Measured_Power_Generation_address": {
              "dataType": "String",
              "value": ""
            },
            "flex_Measured_Reactive_Power_tag": {
              "dataType": "String",
              "value": "GEN_POWER_REACTIVE_RAW"
            },
            "flex_Dispatch_tag": {
              "dataType": "String",
              "value": "RTCC_DR_DEPLOY"
            },
            "opcServerNamespaceNumber": {
              "dataType": "String",
              "value": "1"
            },
            "controller_Power_Curtailment_Setpoint_address": {
              "dataType": "String",
              "value": ""
            },
            "controller_Number_Inverters_Faulty_address": {
              "dataType": "String",
              "value": ""
            },
            "flex_Inverter_Status_tag": {
              "dataType": "String",
              "value": "STATUS_CODE_RAW"
            },
            "watchdog_tagname_for_watchdog_util_script": {
              "dataType": "String",
              "value": "WatchdogRegister"
            },
            "opcServerNodeName": {
              "dataType": "String",
              "value": "1"
            },
            "flex_Watchdog_tag": {
              "dataType": "String",
              "value": "WATCHDOG_REG"
            },
            "kafkaTenant": {
              "dataType": "String",
              "value": "bhc"
            },
            "flex_Measured_Power_Generation_tag": {
              "dataType": "String",
              "value": "GEN_POWER_ACTUAL_RAW"
            },
            "flex_Measured_Precipitation_tag": {
              "dataType": "String",
              "value": "PRECIP_RAW"
            },
            "flex_Start_Command_tag": {
              "dataType": "String",
              "value": "DISPATCH_START_COMMAND"
            },
            "controller_Number_Inverters_Running_address": {
              "dataType": "String"
            },
            "controller_Measured_Reactive_Power_address": {
              "dataType": "String"
            },
            "flex_Measured_Solar_Irradiance_tag": {
              "dataType": "String",
              "value": "SUN_IRRAD_RAW"
            },
            "controller_Inverter_Status_address": {
              "dataType": "String"
            },
            "kafkaDeviceID": {
              "dataType": "String",
              "value": ""
            },
            "flex_Number_Inverters_Faulty_tag": {
              "dataType": "String",
              "value": "NBR_INVERTERS_FAULTY"
            },
            "controller_Number_Inverters_Faulty_Com_address": {
              "dataType": "String"
            },
            "flex_Power_Curtailment_Setpoint_Feedback_tag": {
              "dataType": "String",
              "value": "ACTIVE_POWER_CURT_FB"
            }
          },
          "tagType": "UdtType",
          "tags": [
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Number_Inverters_Running_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Number_Inverters_Running_tag\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Int4",
              "name": "NumberInvertersRunning",
              "tagGroup": "1minScanGroup",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Start_Command_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Start_Command_tag\u0027 , currentValue.value)"
                }
              ],
              "name": "StartCommand",
              "tagType": "AtomicTag"
            },
            {
              "valueSource": "memory",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Watchdog_tag\u0027 , currentValue.value)"
                }
              ],
              "name": "WatchdogRegisterSim",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Measured_Module_Temperature_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Measured_Module_Temperature_tag\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Int4",
              "name": "MeasuredModuleTemperature",
              "tagGroup": "1minScanGroup",
              "tagType": "AtomicTag"
            },
            {
              "valueSource": "memory",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.value \u003e 0:\n\t\tautogrid.utils.createKafkaTags(tagPath, tag.name)"
                }
              ],
              "name": "_create_kafka_tag",
              "value": 0,
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Measured_Temperature_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Measured_Temperature_tag\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Int4",
              "name": "MeasuredTemperature",
              "tagGroup": "1minScanGroup",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Power_Curtailment_Setpoint_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Power_Curtailment_Setpoint_tag\u0027 , currentValue.value)\t"
                }
              ],
              "name": "PowerCurtailmentSetpoint",
              "tagGroup": "1minScanGroup",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Stop_Command_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Stop_Command_tag\u0027 , currentValue.value)\t"
                }
              ],
              "name": "StopCommand",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Measured_Reactive_Power_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Measured_Reactive_Power_tag\u0027 , currentValue.value)"
                }
              ],
              "rawHigh": 1000.0,
              "scaleMode": "Linear",
              "name": "MeasuredReactivePower",
              "tagGroup": "1minScanGroup",
              "tagType": "AtomicTag",
              "scaledHigh": 1.0
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Inverter_Error_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Inverter_Error_tag\u0027 , currentValue.value)\t"
                }
              ],
              "name": "InverterError",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Inverter_Status_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Inverter_Status_tag\u0027 , currentValue.value)\t"
                }
              ],
              "name": "InverterStatus",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Watchdog_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Watchdog_tag\u0027 , currentValue.value)"
                }
              ],
              "name": "WatchdogRegister",
              "tagType": "AtomicTag"
            },
            {
              "valueSource": "expr",
              "expression": "runScript(\u0027autogrid.utils.watchdogUpdate\u0027, 0, concat(concat({PathtoParentFolder} ,\u0027/\u0027), {watchdog_tagname_for_watchdog_util_script} ))",
              "name": "_watchdog_update",
              "executionMode": "FixedRate",
              "executionRate": 30000,
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Measured_Solar_Irradiance_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Measured_Solar_Irradiance_tag\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Int4",
              "name": "MeasuredSolarIrradiance",
              "tagGroup": "1minScanGroup",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Power_Curtailment_Setpoint_Feedback_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Power_Curtailment_Setpoint_Feedback_tag\u0027 , currentValue.value)"
                }
              ],
              "name": "PowerCurtailmentSetpointFeedback",
              "tagGroup": "1minScanGroup",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Number_Inverters_Faulty_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Number_Inverters_Faulty_tag\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Int4",
              "name": "NumberInvertersFaulty",
              "tagGroup": "1minScanGroup",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Measured_Power_Generation_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Measured_Power_Generation_tag\u0027 , currentValue.value)"
                }
              ],
              "rawHigh": 1000.0,
              "scaleMode": "Linear",
              "name": "MeasuredGeneratorPower",
              "tagGroup": "Default",
              "tagType": "AtomicTag",
              "scaledHigh": 1.0
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Measured_Precipitation_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Measured_Temperature_tag\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Int4",
              "name": "MeasuredPrecipitation",
              "tagGroup": "1minScanGroup",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d{opcServerNamespaceNumber};s\u003d[{opcServerTopicName}]{opcServerNodeName}.{controller_Number_Inverters_Faulty_address}"
              },
              "opcServer": {
                "bindType": "parameter",
                "binding": "{opcServerName}"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Number_Inverters_Faulty_Com_tag\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Int4",
              "name": "NumberInvertersFaultyCom",
              "tagGroup": "1minScanGroup",
              "tagType": "AtomicTag"
            }
          ]
        },
        {
          "name": "Renewables_DR_ChildUDTs",
          "tagType": "Folder",
          "tags": [
            {
              "name": "telemetry_v01",
              "tagType": "UdtType",
              "tags": [
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_measuredSolarIrradianceAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "dataType": "Float8",
                  "name": "measuredSolarIrradiance",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_measuredWindSpeedAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "dataType": "Float8",
                  "name": "measuredWindSpeed",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_customInt2Address}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "name": "customInt2",
                  "enabled": false,
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_customBool2Address}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n"
                    }
                  ],
                  "dataType": "Boolean",
                  "name": "customBool2",
                  "enabled": false,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_measuredVoltsAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Linear",
                  "dataType": "Float8",
                  "name": "measuredVolts",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_monitoredTurbineStatusAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\n"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "name": "monitoredTurbineStatus",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_customInt1Address}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "name": "customInt1",
                  "enabled": false,
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_measuredTemperatureAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "dataType": "Float8",
                  "name": "measuredTemperature",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_customFloat1Address}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "dataType": "Float8",
                  "name": "customFloat1",
                  "enabled": false,
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_customBool1Address}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "dataType": "Boolean",
                  "name": "customBool1",
                  "enabled": false,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_measuredReactivePowerAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "dataType": "Float8",
                  "name": "measuredReactivePower",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_measuredAmpsAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "dataType": "Float8",
                  "name": "measuredAmps",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_customFloat2Address}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "dataType": "Float8",
                  "name": "customFloat2",
                  "enabled": false,
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_monitoredInverterStatusAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_ServerName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t\t"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "name": "monitoredInverterStatus",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_measuredFrequencyAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "dataType": "Float8",
                  "name": "measuredFrequency",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{telemetry_measuredRealPowerAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n"
                    }
                  ],
                  "rawHigh": 1.0,
                  "scaleMode": "Off",
                  "dataType": "Float8",
                  "name": "measuredRealPower",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                }
              ]
            },
            {
              "typeColor": -1,
              "name": "heartbeatUDT_v01",
              "tagType": "UdtType",
              "tags": [
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{heartbeat_watchdogHeartbeatFeedbackAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "enabled": {
                    "bindType": "parameter",
                    "binding": "{config_hasHeartbeat}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "name": "watchdogHeartbeatFeedback",
                  "tagType": "AtomicTag"
                },
                {
                  "executionRate": {
                    "bindType": "parameter",
                    "binding": "{config_heartbeatPeriodicity}"
                  },
                  "enabled": {
                    "bindType": "parameter",
                    "binding": "{config_ignitionInitiatedHeartbeat}"
                  },
                  "valueSource": "expr",
                  "expression": "runScript(\u0027StandardUDT.utils.watchdogUpdate\u0027, 0, concat({ignitionTagProvider},concat({PathtoParentFolder} ,\u0027/watchdogHeartbeat\u0027)))",
                  "name": "_heartbeatUpdate",
                  "executionMode": "FixedRate",
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{heartbeat_watchdogHeartbeatAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "enabled": {
                    "bindType": "parameter",
                    "binding": "{config_ignitionInitiatedHeartbeat} \u003d\u003d 1"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "name": "watchdogHeartbeat",
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "typeColor": -1,
              "name": "dispatchUDT_v01",
              "tagType": "UdtType",
              "tags": [
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{dispatch_startDispatchAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "name": "startDispatch",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "expression": "((toInt({config_isDiscreteDispatch},0) \u003d 1) \u0026\u0026 !(toInt({config_hasAggregateDispatch},0) \u003d 1)\u0026\u0026 (toInt({config_is3WireDispatch},0) \u003d 1) \u0026\u0026 ((({[.]/_dispatchManualDispatchEnable}) \u0026\u0026 !({[.]/_dispatchManualDispatch})) || (!({[.]/_dispatchManualDispatchEnable}) \u0026\u0026 !(tag({kafka_devicePathPrefix} +{kafka_tenant} + \u0027/\u0027+ split({PathToParentFolder},\u0027/\u0027)[2,\u0027parts\u0027] + \u0027/\u0027+{flex_dispatchCommandTag}) \u003e 0)))) * 1 +\r\n({[.]/stopDispatchFeedback}\u003d1) * 1  \r\n     \r\n ",
                  "name": "_dispatchDiscreteStopWithDiscreteFeedbackActive",
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{dispatch_stopDispatchFeedbackAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "name": "stopDispatchFeedback",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "memory",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif (currentValue.value \u003d\u003d 0):\n\t\tStandardUDT.utils.doRepeatDispatchCommand(tagPath, tag.name, currentValue.value)"
                    }
                  ],
                  "dataType": "Boolean",
                  "name": "_dispatchManualDispatchEnable",
                  "value": false,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{dispatch_stopDispatchAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "name": "stopDispatch",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "dataType": "String",
                  "name": "testExpression",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "expression": "(({[.]/startDispatch} \u003d {config_discreteDispatchControllerDispatchValue}) \u0026\u0026 (tag({kafka_devicePathPrefix}+{kafka_tenant}+substring({PathToParentFolder},indexOf({PathToParentFolder},\"/\"),lastIndexOf({PathToParentFolder},\u0027/\u0027))+\u0027/\u0027+{flex_dispatchCommandTag}) \u003d 1) \u0026\u0026  !({config_hasAggregateDispatch}) \u0026\u0026 ({[.]../telemetryValues/measuredRealPower} \u003c {config_calculatedDispatchLowThreshold}))",
                  "name": "_dispatchDiscreteWithCalculatedFeedbackActive",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "memory",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tStandardUDT.utils.doManualDispatch(tagPath, tag.name, currentValue.value)"
                    }
                  ],
                  "name": "_dispatchManualDispatch",
                  "value": 0,
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath.replace(\u0027_\u0027,\u0027\u0027), tag.name.replace(\u0027_\u0027,\u0027\u0027) , currentValue.value)\t\n\t"
                    }
                  ],
                  "expression": "((tag({kafka_devicePathPrefix}+{kafka_tenant}+substring({PathToParentFolder},indexOf({PathToParentFolder},\"/\"),lastIndexOf({PathToParentFolder},\u0027/\u0027))+\u0027/\u0027+{flex_dispatchCommandTag}) \u003d 1) \u0026\u0026 ({config_isDiscreteDispatch} \u003d 1) \u0026\u0026 ({config_hasControllerDispatchFeedback} \u003d 1) \u0026\u0026 ({config_is3WireDiscreteDispatch}!\u003d1) \u0026\u0026 ({[.]/_dispatchDiscreteStartWithDiscreteFeedbackActive}\u003d0)) || ((tag({kafka_devicePathPrefix}+{kafka_tenant}+substring({PathToParentFolder},indexOf({PathToParentFolder},\"/\"),lastIndexOf({PathToParentFolder},\u0027/\u0027))+\u0027/\u0027+{flex_dispatchCommandTag}) \u003d 1) \u0026\u0026 ({config_isDiscreteDispatch} \u003d\u003d 1) \u0026\u0026 ({config_hasControllerDispatchFeedback} \u003d 1) \u0026\u0026 ({config_is3WireDiscreteDispatch}\u003d\u003d1) \u0026\u0026 (({[.]/dispatchDiscreteStartWithDiscreteFeedbackActive}\u003d0) || ({[.]/dispatchDiscreteStopWithDiscreteFeedbackActive}\u003d0))) || ((tag({kafka_devicePathPrefix}+{kafka_tenant}+substring({PathToParentFolder},indexOf({PathToParentFolder},\"/\"),lastIndexOf({PathToParentFolder},\u0027/\u0027))+\u0027/\u0027+{flex_dispatchCommandTag}) \u003d 1) \u0026\u0026 ({config_isDiscreteDispatch} \u003d 1) \u0026\u0026 ({config_hasCalculatedDispatchFeedback} \u003d 1) \u0026\u0026 ({[.]/_dispatchDiscreteStartWithCalculatedFeedbackActive}\u003d0)) || (({config_isAnalogDispatch} \u003d 1)  \u0026\u0026 ({config_hasControllerDispatchFeedback} \u003d 1) \u0026\u0026 ({[.]/_dispatchAnalogWithAnalogFeedbackActive}\u003d0)) || (({config_isAnalogDispatch} \u003d 1)  \u0026\u0026 ({config_hasCalculatedDispatchFeedback} \u003d 1) \u0026\u0026 ({[.]/_dispatchAnalogWithCalculatedFeedbackActive}\u003d0))",
                  "name": "_dispatchNOTConfirmedAlarm",
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{dispatch_preactivationAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "name": "preactivation",
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{dispatch_setpointDispatchFeedbackAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "name": "setpointDispatchFeedback",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "expression": "({[.]/setpointDispatch} \u003d tag({kafka_devicePathPrefix}+{kafka_tenant}+substring({PathToParentFolder},indexOf({PathToParentFolder},\"/\"),lastIndexOf({PathToParentFolder},\u0027/\u0027))+\u0027/\u0027+{flex_dispatchSetpointTag})) \u0026\u0026 ({[.]/setpointDispatch} \u003d {[.]/setpointDispatchFeedback}))\u0026\u0026  !({config_hasAggregateDispatch})  ",
                  "name": "_dispatchAnalogWithAnalogFeedbackActive",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "expression": "(({[.]/setpointDispatch} \u003d tag({kafka_devicePathPrefix}+{kafka_tenant}+substring({PathToParentFolder},indexOf({PathToParentFolder},\"/\"),lastIndexOf({PathToParentFolder},\u0027/\u0027))+\u0027/\u0027+{flex_dispatchSetpointTag}))  \u0026\u0026  !({config_hasAggregateDispatch}) \u0026\u0026 ({[.]../telemetryValues/measuredRealPower} \u003c\u003d {config_calculatedDispatchLowThreshold}))",
                  "name": "_dispatchAnalogWithCalculatedFeedbackActive",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath.replace(\u0027_\u0027,\u0027\u0027), tag.name.replace(\u0027_\u0027,\u0027\u0027) , currentValue.value)\t\n\t"
                    }
                  ],
                  "name": "_dispatchConfirmedInactive",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath.replace(\u0027_\u0027,\u0027\u0027), tag.name.replace(\u0027_\u0027,\u0027\u0027) , currentValue.value)\t\n\t"
                    }
                  ],
                  "expression": "(({config_isDiscreteDispatch} \u003d 1) \u0026\u0026 ({config_hasControllerDispatchFeedback} \u003d 1) \u0026\u0026 ({config_is3WireDiscreteDispatch}!\u003d1) \u0026\u0026 ({[.]/_dispatchDiscreteStartWithDiscreteFeedbackActive}\u003d1)) || (({config_isDiscreteDispatch} \u003d 1) \u0026\u0026 ({config_hasControllerDispatchFeedback} \u003d 1) \u0026\u0026 ({config_is3WireDiscreteDispatch}\u003d1) \u0026\u0026 ({[.]/dispatchDiscreteStartWithDiscreteFeedbackActive}\u003d1) \u0026\u0026 ({[.]/dispatchDiscreteStopWithDiscreteFeedbackActive}\u003d1)) || (({config_isDiscreteDispatch} \u003d 1) \u0026\u0026 ({config_hasCalculatedDispatchFeedback} \u003d 1) \u0026\u0026 ({[.]/_dispatchDiscreteStartWithCalculatedFeedbackActive}\u003d1)) || (({config_isAnalogDispatch} \u003d 1)  \u0026\u0026 ({config_hasControllerDispatchFeedback} \u003d 1) \u0026\u0026 ({[.]/_dispatchAnalogWithAnalogFeedbackActive}\u003d1)) || (({config_isAnalogDispatch} \u003d 1)  \u0026\u0026 ({config_hasCalculatedDispatchFeedback} \u003d 1) \u0026\u0026 ({[.]/_dispatchAnalogWithCalculatedFeedbackActive}\u003d1))",
                  "name": "_dispatchConfirmedActive",
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{dispatch_startDispatchFeedbackAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "name": "startDispatchFeedback",
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{dispatch_setpointDispatchAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "name": "setpointDispatch",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "expression": "((toInt({config_isDiscreteDispatch},0) \u003d 1) \u0026\u0026 !(toInt({config_hasAggregateDispatch},0) \u003d 1) \u0026\u0026 ((({[.]/_dispatchManualDispatchEnable}) \u0026\u0026 ({[.]/_dispatchManualDispatch})) || (!({[.]/_dispatchManualDispatchEnable}) \u0026\u0026 (tag({kafka_devicePathPrefix} +{kafka_tenant} + \u0027/\u0027+ split({PathToParentFolder},\u0027/\u0027)[2,\u0027parts\u0027] + \u0027/\u0027+{flex_dispatchCommandTag}) \u003e 0)))) * 1 +\r\n({[.]/startDispatchFeedback}\u003d1) * 1  \r\n     \r\n ",
                  "name": "_dispatchDiscreteStartWithDiscreteFeedbackActive",
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "name": "businessServicesUDT_v01",
              "tagType": "UdtType",
              "tags": [
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{business_availableAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "name": "businessAvailable",
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "name": "systemStatusUDT_v01",
              "tagType": "UdtType",
              "tags": [
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{system_faultStatusAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t\t"
                    }
                  ],
                  "name": "systemFaultStatus",
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{system_siteFaultStatusAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t\t"
                    }
                  ],
                  "name": "systemSiteFaultStatus",
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{opc_serverNamespace}{opc_serverTopic}{opc_serverNode}{system_cloudFaultStatusAddress}"
                  },
                  "alarmEvalEnabled": {
                    "bindType": "parameter",
                    "binding": "{AlarmsEnabled}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{opc_serverName}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t\t"
                    }
                  ],
                  "name": "systemCloudFaultStatus",
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "name": "connectivityStatus_v01",
              "typeId": "",
              "tagType": "UdtType",
              "tags": [
                {
                  "valueSource": "memory",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.doRepeatDispatchCommand(tagPath, tag.name, currentValue.value)\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "name": "connectivityStatus",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "memory",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.quality.isGood():\n\t\tStandardUDT.utils.doRepeatDispatchCommand(tagPath, tag.name, currentValue.value)\n\t\tStandardUDT.utils.updateKafkaValue(tagPath, tag.name, currentValue.value)\t\n\t"
                    }
                  ],
                  "name": "connectivityInAlarm",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "expression": "runScript(\u0027StandardUDT.utils.doConnectivityCheck\u0027, 0, concat({ignitionTagProvider},{PathtoParentFolder} ))",
                  "name": "_doConnectivityCheck",
                  "executionMode": "FixedRate",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "memory",
                  "name": "connectionEnabled",
                  "tagType": "AtomicTag"
                }
              ]
            }
          ]
        },
        {
          "name": "PJM_BESS_DNP3Master",
          "parameters": {
            "MQTTNodePath": {
              "dataType": "String"
            },
            "Telemetry_ReactivePower_ProtogateTag": {
              "dataType": "String",
              "value": "/MVAR"
            },
            "MQTTBaseTagPath": {
              "dataType": "String",
              "value": ""
            },
            "CandS_AREGD_PrototgateTag": {
              "dataType": "String",
              "value": "/AREGD"
            },
            "Telemetry_AREGD_ProtogateTag": {
              "dataType": "String",
              "value": "/AREGD_FEEDBACK"
            },
            "CandS_REGD_ProtogateTag": {
              "dataType": "String",
              "value": "/REGD"
            },
            "Telemetry_ActivePower_ProtogateTag": {
              "dataType": "String",
              "value": "/MW"
            }
          },
          "tagType": "UdtType",
          "tags": [
            {
              "name": "Telemetry",
              "tagType": "Folder",
              "tags": [
                {
                  "sourceTagPath": {
                    "bindType": "parameter",
                    "binding": "{MQTTBaseTagPath}{Telemetry_ActivePower_ProtogateTag}"
                  },
                  "valueSource": "reference",
                  "rawHigh": 1.0,
                  "scaleMode": "Linear",
                  "dataType": "Float4",
                  "name": "ActivePower",
                  "engUnit": "MW",
                  "tagType": "AtomicTag"
                },
                {
                  "sourceTagPath": {
                    "bindType": "parameter",
                    "binding": "{MQTTBaseTagPath}{Telemetry_AREGD_ProtogateTag}"
                  },
                  "valueSource": "reference",
                  "rawHigh": 1.0,
                  "scaleMode": "Linear",
                  "dataType": "Float4",
                  "name": "AREGD",
                  "engUnit": "MW",
                  "tagType": "AtomicTag",
                  "scaledHigh": 10.0
                },
                {
                  "sourceTagPath": {
                    "bindType": "parameter",
                    "binding": "{MQTTBaseTagPath}{Telemetry_ReactivePower_ProtogateTag}"
                  },
                  "valueSource": "reference",
                  "rawHigh": 1.0,
                  "scaleMode": "Linear",
                  "name": "ReactivePower",
                  "engUnit": "MVAR",
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "sourceTagPath": {
                "bindType": "parameter",
                "binding": "{MQTTNodePath}/Node Info/Online"
              },
              "valueSource": "reference",
              "expression": "{MQTTBaseTagPath}/Node Info/Online",
              "dataType": "Boolean",
              "name": "_connectivityGood",
              "tagType": "AtomicTag"
            },
            {
              "name": "ControlAndSetpoints",
              "tagType": "Folder",
              "tags": [
                {
                  "sourceTagPath": {
                    "bindType": "parameter",
                    "binding": "{MQTTBaseTagPath}{CandS_AREGD_PrototgateTag}"
                  },
                  "valueSource": "reference",
                  "rawHigh": 1.0,
                  "scaleMode": "Linear",
                  "dataType": "Float4",
                  "name": "AREGD",
                  "engUnit": "MW",
                  "tagType": "AtomicTag",
                  "scaledHigh": 10.0
                },
                {
                  "sourceTagPath": {
                    "bindType": "parameter",
                    "binding": "{MQTTBaseTagPath}{CandS_REGD_ProtogateTag}"
                  },
                  "valueSource": "reference",
                  "scaleMode": "Linear",
                  "dataType": "Float4",
                  "name": "REGD",
                  "engUnit": "",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                }
              ]
            }
          ]
        },
        {
          "name": "PJM_Site",
          "parameters": {
            "flex_Telemetry/CREG_Address": {
              "dataType": "String",
              "value": "CREG"
            },
            "DNP3MasterA_MQTTTagBasePath": {
              "dataType": "String"
            },
            "heartbeat_Stale_Timeout": {
              "dataType": "Integer",
              "value": 60
            },
            "Alarm_Pipeline": {
              "dataType": "String",
              "value": "CAISO_RIG/EmailNotifyMarketOps"
            },
            "flex_ControlAndSetpoints/REGD_Address": {
              "dataType": "String",
              "value": "REGD"
            },
            "DNP3MasterB_MQTTTagBasePath": {
              "dataType": "String"
            },
            "Alarm_Test_Nofification_Text": {
              "dataType": "String",
              "value": "***** THIS IS ONLY A TEST ******"
            },
            "kafkaTenant": {
              "dataType": "String",
              "value": "PJM_Testing"
            },
            "flex_Telemetry/LoadBP_Address": {
              "dataType": "String",
              "value": "LOADBP"
            },
            "DNP3MasterB_MQTTNodePath": {
              "dataType": "String"
            },
            "kafkaDevicePathPrefix": {
              "dataType": "String",
              "value": "[AutoGrid Kafka]"
            },
            "DNP3MasterA_MQTTNodePath": {
              "dataType": "String",
              "value": ""
            },
            "flex_Telemetry/TREG_Address": {
              "dataType": "String",
              "value": "TREG"
            },
            "flex__ActiveDNP3MasterHeartbeat_Address": {
              "dataType": "String",
              "value": "HB"
            }
          },
          "tagType": "UdtType",
          "tags": [
            {
              "valueSource": "expr",
              "expression": "if({[.]DNP3MasterA/_connectivityGood},\"DNP3MasterA\",if({[.]DNP3MasterB/_connectivityGood},\"DNP3MasterB\", \"\") )",
              "dataType": "String",
              "alarms": [
                {
                  "name": "No Active DNP3 Master",
                  "label": "{InstanceName}",
                  "priority": "High",
                  "setpointA": {
                    "bindType": "Expression",
                    "value": "len({[.]_ActiveDNP3Master}) \u003d\u003d 0"
                  },
                  "activePipeline": {
                    "bindType": "UDTParameter",
                    "value": "{Alarm_Pipeline}"
                  },
                  "CustomEmailMessage": {
                    "bindType": "UDTParameter",
                    "value": "{Alarm_Test_Nofification_Text}"
                  }
                }
              ],
              "name": "_ActiveDNP3Master",
              "tagType": "AtomicTag"
            },
            {
              "valueSource": "memory",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tautogrid.BessAsset.controllers.createAssetLevelKafkaTags(tagPath, tag.Name)\t"
                }
              ],
              "name": "_createKafkaTags",
              "tagType": "AtomicTag"
            },
            {
              "name": "DNP3MasterA",
              "typeId": "Autogrid/NotUsed/PJM_Site_DNP3Master",
              "parameters": {
                "MQTTNodePath": {
                  "dataType": "String",
                  "value": {
                    "bindType": "parameter",
                    "binding": "{DNP3MasterA_MQTTNodePath}"
                  }
                },
                "MQTTBaseTagPath": {
                  "dataType": "String",
                  "value": {
                    "bindType": "parameter",
                    "binding": "{DNP3MasterA_MQTTTagBasePath}"
                  }
                }
              },
              "tagType": "UdtInstance",
              "tags": [
                {
                  "name": "Telemetry",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "CREG",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "LoadBP",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "REGD",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "TREG",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Heartbeat",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "ControlAndSetpoints",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "REGD",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Heartbeat",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "_connectivityGood",
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "valueSource": "expr",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "#\tlogger \u003d system.util.getLogger(\u0027Test Heartbeat\u0027)\n\tUDTInstancePath \u003d tagPath.replace(\u0027/\u0027+tag.name,\u0027\u0027)\n#\tlogger.info(UDTInstancePath)\n\tUDTInstanceTag \u003d \u0027Telemetry/\u0027 + tag.name.replace(\u0027_\u0027,\u0027\u0027)\n#\tlogger.info(UDTInstanceTag)\n#\tlogger.info(str(currentValue.value))\n\tautogrid.BessAsset.controllers.updateDNP3Masters(UDTInstancePath, UDTInstanceTag, currentValue.value) "
                }
              ],
              "expression": "dateExtract(now(),\"sec\")",
              "name": "_Heartbeat",
              "tagType": "AtomicTag"
            },
            {
              "valueSource": "memory",
              "dataType": "DataSet",
              "name": "SiteAssets",
              "value": "{\"columns\":[{\"name\":\"Site Path\",\"type\":\"java.lang.String\"},{\"name\":\"Site Name\",\"type\":\"java.lang.String\"}],\"rows\":[[\"\",\"\"]]}",
              "tagType": "AtomicTag"
            },
            {
              "name": "ControlAndSetpoints",
              "tagType": "Folder",
              "tags": [
                {
                  "valueSource": "expr",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"ControlAndSetpoints/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tautogrid.BessAsset.controllers.updateDNP3Masters ( UDTInstancePath, UDTInstanceTag, currentValue.value)\n"
                    }
                  ],
                  "expression": "tag(\u0027[.]../\u0027+ tag(\u0027[.]../_ActiveDNP3Master\u0027)+\u0027/ControlAndSetpoints/REGD\u0027)\r\n\r\n",
                  "dataType": "Float4",
                  "name": "REGD",
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "name": "DNP3MasterB",
              "typeId": "Autogrid/NotUsed/PJM_Site_DNP3Master",
              "parameters": {
                "MQTTNodePath": {
                  "dataType": "String",
                  "value": {
                    "bindType": "parameter",
                    "binding": "{DNP3MasterB_MQTTNodePath}"
                  }
                },
                "MQTTBaseTagPath": {
                  "dataType": "String",
                  "value": {
                    "bindType": "parameter",
                    "binding": "{DNP3MasterB_MQTTTagBasePath}"
                  }
                }
              },
              "tagType": "UdtInstance",
              "tags": [
                {
                  "name": "ControlAndSetpoints",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "Heartbeat",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "REGD",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "Telemetry",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "dataType": "Float4",
                      "name": "CREG",
                      "tagType": "AtomicTag"
                    },
                    {
                      "dataType": "Float4",
                      "name": "TREG",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Heartbeat",
                      "tagType": "AtomicTag"
                    },
                    {
                      "dataType": "Float4",
                      "name": "REGD",
                      "tagType": "AtomicTag"
                    },
                    {
                      "dataType": "Float4",
                      "name": "LoadBP",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "_connectivityGood",
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "name": "Alarms",
              "tagType": "Folder",
              "tags": [
                {
                  "valueSource": "expr",
                  "expression": "dateDiff({[.]../_ActiveDNP3MasterHeartbeat.timestamp}, now(), \"seconds\") \u003c {heartbeat_Stale_Timeout}",
                  "dataType": "Boolean",
                  "alarms": [
                    {
                      "timeOnDelaySeconds": 60.0,
                      "name": "Heartbeat Loss",
                      "label": "{InstanceName}",
                      "priority": "High",
                      "displayPath": "Heartbeat Loss",
                      "activePipeline": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_Pipeline}"
                      },
                      "CustomEmailMessage": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_Test_Nofification_Text}"
                      }
                    }
                  ],
                  "name": "_ActiveDNP3MasterHeartbeatGood",
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "name": "Telemetry",
              "tagType": "Folder",
              "tags": [
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Telemetry_CREG_Address}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "memory",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\tautogrid.BessAsset.controllers.updateDNP3Masters ( UDTInstancePath, UDTInstanceTag, currentValue.value)\n"
                    }
                  ],
                  "dataType": "Float4",
                  "sourceTagPath": "[.]Telemetry/_CREG_Calculation",
                  "name": "CREG",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "expression": "runScript(\u0027autogrid.BessAsset.controllers.updateFleetTREG\u0027, 0,{PathToParentFolder})",
                  "dataType": "Float4",
                  "name": "_TREG_Calculation",
                  "executionMode": "FixedRate",
                  "executionRate": 2000,
                  "enabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "expression": "runScript(\u0027autogrid.BessAsset.controllers.updateFleetLoadBP\u0027, 0,{PathToParentFolder})",
                  "dataType": "Float4",
                  "name": "_LoadBP_Calculation",
                  "executionMode": "FixedRate",
                  "executionRate": 2000,
                  "enabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Telemetry_CREG_Address}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "memory",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\tautogrid.BessAsset.controllers.updateDNP3Masters ( UDTInstancePath, UDTInstanceTag, currentValue.value)\n"
                    }
                  ],
                  "dataType": "Float4",
                  "name": "TREG",
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Telemetry_CREG_Address}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "memory",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\tautogrid.BessAsset.controllers.updateDNP3Masters ( UDTInstancePath, UDTInstanceTag, currentValue.value)\n"
                    }
                  ],
                  "dataType": "Float4",
                  "name": "LoadBP",
                  "tagType": "AtomicTag"
                },
                {
                  "valueSource": "expr",
                  "expression": "runScript(\u0027autogrid.BessAsset.controllers.updateFleetCREG\u0027, 0,{PathToParentFolder})",
                  "dataType": "Float4",
                  "name": "_CREG_Calculation",
                  "executionMode": "FixedRate",
                  "executionRate": 2000,
                  "enabled": true,
                  "tagType": "AtomicTag"
                }
              ]
            }
          ]
        },
        {
          "name": "PJM_AGC_BESS",
          "parameters": {
            "bessTemperatureAddress": {
              "dataType": "String"
            },
            "bessName": {
              "dataType": "String"
            },
            "meterFrequencyAddress": {
              "dataType": "String"
            },
            "PJMJetstreamAName": {
              "dataType": "String"
            },
            "bessSoCAddress": {
              "dataType": "String"
            },
            "meterRealPowerAddress": {
              "dataType": "String"
            },
            "bessSetpointFeedbackAddress": {
              "dataType": "String"
            },
            "meterName": {
              "dataType": "String"
            },
            "PJMJetstreamBName": {
              "dataType": "String"
            },
            "bessSetpointAddress": {
              "dataType": "String"
            },
            "kafkaName": {
              "dataType": "String"
            },
            "bessFireAlarmAddress": {
              "dataType": "String"
            },
            "tenant": {
              "dataType": "String"
            },
            "bessFireFaultAddress": {
              "dataType": "String"
            },
            "bessHumidityAddress": {
              "dataType": "String"
            }
          },
          "tagType": "UdtType",
          "tags": [
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d[{meterName}]{meterFrequencyAddress}"
              },
              "valueSource": "opc",
              "dataType": "Float4",
              "name": "Frequency",
              "engUnit": "Hz",
              "tagType": "AtomicTag",
              "opcServer": "Ignition OPC UA Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d[{bessName}]{bessFireAlarmAddress}"
              },
              "valueSource": "opc",
              "dataType": "Float4",
              "name": "FireAlarm",
              "engUnit": "kW",
              "tagType": "AtomicTag",
              "opcServer": "Ignition OPC UA Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d[{meterName}]{deviceMeterRealPowerAddress}"
              },
              "valueSource": "opc",
              "dataType": "Float4",
              "name": "DeviceRealPower",
              "engUnit": "kW",
              "tagType": "AtomicTag",
              "opcServer": "Ignition OPC UA Server"
            }
          ]
        },
        {
          "name": "Renewables_DR_ParentUDTs",
          "tagType": "Folder",
          "tags": [
            {
              "name": "v01",
              "typeId": "",
              "parameters": {
                "dispatch_setpointDispatchFeedbackAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "config_analogDispatchMaxValue": {
                  "dataType": "Integer",
                  "value": 100
                },
                "config_analogDispatchManualDispatchValue": {
                  "dataType": "Integer",
                  "value": 0
                },
                "flex_measuredReactivePowerTag": {
                  "dataType": "String",
                  "value": "REACTIVE_POWER_RAW"
                },
                "telemetry_monitoredTurbineStatusAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_businessAvailableTag": {
                  "dataType": "String",
                  "value": " "
                },
                "config_hasCalculatedDispatchFeedback": {
                  "dataType": "Integer",
                  "value": 0
                },
                "telemetry_measuredFrequencyAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "system_cloudFaultStatusAddress": {
                  "dataType": "String"
                },
                "dispatch_preactivationAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_measuredFrequencyTag": {
                  "dataType": "String",
                  "value": "FREQUENCY_RAW"
                },
                "business_availableAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_connectivityInAlarmTag": {
                  "dataType": "String",
                  "value": "CONNECTIVITY_IN_ALARM"
                },
                "config_discreteDispatchControllerDispatchRTNValue": {
                  "dataType": "Integer",
                  "value": 0
                },
                "flex_systemCloudFaultStatusTag": {
                  "dataType": "String",
                  "value": ""
                },
                "opc_serverTopic": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_dispatchConfirmedActiveTag": {
                  "dataType": "String",
                  "value": "DISPATCH_ACTIVE_CONFIRMATION"
                },
                "telemetry_customBool2Address": {
                  "dataType": "String",
                  "value": ""
                },
                "system_faultStatusAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "config_usesMetricUnits": {
                  "dataType": "Integer",
                  "value": 0
                },
                "telemetry_customFloat1Address": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_systemSiteFaultStatusTag": {
                  "dataType": "String",
                  "value": ""
                },
                "config_analogDispatchMinValue": {
                  "dataType": "Integer",
                  "value": 0
                },
                "flex_customFloat2Tag": {
                  "dataType": "String",
                  "value": ""
                },
                "heartbeat_watchdogHeartbeatFeedbackAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "telemetry_customInt1Address": {
                  "dataType": "String",
                  "value": ""
                },
                "config_isAnalogDispatch": {
                  "dataType": "Integer",
                  "value": 0
                },
                "telemetry_measuredRealPowerAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "config_isDiscreteDispatch": {
                  "dataType": "Integer",
                  "value": 1
                },
                "config_analogDispatchManualRTNValue": {
                  "dataType": "Integer",
                  "value": 100
                },
                "dispatch_stopDispatchFeedbackAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_measuredTemperatureFarenheitTag": {
                  "dataType": "String",
                  "value": "TEMP_RAW_FARENHEIT"
                },
                "config_controllerReportsAvailability": {
                  "dataType": "Integer",
                  "value": 0
                },
                "config_controllerOriginatedHeartbeat": {
                  "dataType": "Integer",
                  "value": 0
                },
                "telemetry_measuredSolarIrradianceAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_measuredVoltsTag": {
                  "dataType": "String",
                  "value": "VOLTS_RAW"
                },
                "heartbeat_watchdogHeartbeatAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_measuredRealPowerTag": {
                  "dataType": "String",
                  "value": "GEN_POWER_ACTUAL_RAW"
                },
                "telemetry_measuredAmpsAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "opc_serverNamespace": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_customBool2Tag": {
                  "dataType": "String",
                  "value": ""
                },
                "config_is3WireDiscreteDispatch": {
                  "dataType": "Integer",
                  "value": 0
                },
                "kafka_devicePathPrefix": {
                  "dataType": "String",
                  "value": "[AutoGrid Kafka]"
                },
                "config_ignitionInitiatedHeartbeat": {
                  "dataType": "Integer",
                  "value": 0
                },
                "flex_measuredWindSpeedKPHTag": {
                  "dataType": "String",
                  "value": "WINDSPEED_RAW_KPH"
                },
                "flex_watchdogHeartbeatFeedbackTag": {
                  "dataType": "String",
                  "value": "WATCHDOG_REG"
                },
                "opc_serverNode": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_customInt2Tag": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_setpointDispatchFeedbackTag": {
                  "dataType": "String",
                  "value": "ACTIVE_POWER_CURT_FB"
                },
                "flex_systemFaultStatusTag": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_monitoredInverterStatusTag": {
                  "dataType": "String",
                  "value": "INVERTER_STATUS"
                },
                "flex_customFloat1Tag": {
                  "dataType": "String",
                  "value": ""
                },
                "dispatch_stopDispatchAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_measuredSolarIrradianceTag": {
                  "dataType": "String",
                  "value": "SUN_IRRAD_RAW"
                },
                "opc_serverName": {
                  "dataType": "String",
                  "value": "Ignition OPC UA Server"
                },
                "flex_dispatchConfirmedInactiveTag": {
                  "dataType": "String",
                  "value": "DISPATCH_INACTIVE_CONFIRMATION"
                },
                "flex_dispatchNOTConfirmedAlarmTag": {
                  "dataType": "String",
                  "value": "DISPATCH_CONFIRMATION_ALARM"
                },
                "telemetry_measuredTemperatureAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "telemetry_measuredWindSpeedAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "config_hasAggregateDispatch": {
                  "dataType": "Integer",
                  "value": 0
                },
                "config_heartbeatPeriodicity": {
                  "dataType": "Integer",
                  "value": 30000
                },
                "flex_measuredTemperatureCelciusTag": {
                  "dataType": "String",
                  "value": "TEMP_RAW_CELCIUS"
                },
                "config_hasControllerDispatchFeedback": {
                  "dataType": "Integer",
                  "value": 0
                },
                "kafka_tenant": {
                  "dataType": "String",
                  "value": ""
                },
                "dispatch_startDispatchFeedbackAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_monitoredTurbineStatusTag": {
                  "dataType": "String",
                  "value": "TURBINE_STATUS"
                },
                "flex_customBool1Tag": {
                  "dataType": "String",
                  "value": ""
                },
                "config_aggregateDispatchParentPath": {
                  "dataType": "String",
                  "value": ""
                },
                "dispatch_startDispatchAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_dispatchSetpointTag": {
                  "dataType": "String",
                  "value": "ACTIVE_POWER_CURT"
                },
                "flex_dispatchCommandTag": {
                  "dataType": "String",
                  "value": "RTCC_DR_DEPLOY"
                },
                "telemetry_customBool1Address": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_customInt1Tag": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_measuredAmpsTag": {
                  "dataType": "String",
                  "value": "AMPS_RAW"
                },
                "config_calculatedDispatchHighThreshold": {
                  "dataType": "Integer",
                  "value": 0
                },
                "telemetry_customInt2Address": {
                  "dataType": "String",
                  "value": ""
                },
                "telemetry_customFloat2Address": {
                  "dataType": "String",
                  "value": ""
                },
                "telemetry_measuredReactivePowerAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "config_discreteDispatchControllerDispatchValue": {
                  "dataType": "Integer",
                  "value": 1
                },
                "config_calculatedDispatchLowThreshold": {
                  "dataType": "Integer",
                  "value": 0
                },
                "system_siteFaultStatusAddress": {
                  "dataType": "String"
                },
                "flex_startDispatchFeedbackTag": {
                  "dataType": "String",
                  "value": "START_DISPATCH_FB"
                },
                "telemetry_monitoredInverterStatusAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "ignitionTagProvider": {
                  "dataType": "String",
                  "value": "[default]"
                },
                "dispatch_setpointDispatchAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_connectivityStatusTag": {
                  "dataType": "String",
                  "value": "CONNECTIVITY_ACTIVE"
                },
                "telemetry_measuredVoltsAddress": {
                  "dataType": "String",
                  "value": ""
                },
                "flex_dispatchPreactivationTag": {
                  "dataType": "String",
                  "value": "RTCC_DR_PREACTION"
                },
                "flex_measuredWindSpeedMPHTag": {
                  "dataType": "String",
                  "value": "WINDSPEED_RAW_MPH"
                },
                "flex_stopDispatchFeedbackTag": {
                  "dataType": "String",
                  "value": "STOP_DISPATCH_FB"
                }
              },
              "tagType": "UdtType",
              "tags": [
                {
                  "name": "connectivityStatus",
                  "typeId": "Autogrid/NotUsed/Renewables_DR_ChildUDTs/connectivityStatus_v01",
                  "tagType": "UdtInstance",
                  "tags": [
                    {
                      "name": "connectionEnabled",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "connectivityStatus",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "_doConnectivityCheck",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "connectivityInAlarm",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "valueSource": "memory",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tif currentValue.value \u003e 0:\n\t\tStandardUDT.utils.createKafkaTags(tagPath, tag.name)\n"
                    }
                  ],
                  "name": "_create_kafka_tag",
                  "value": 0,
                  "tagType": "AtomicTag"
                },
                {
                  "name": "dispatch",
                  "typeId": "Autogrid/NotUsed/Renewables_DR_ChildUDTs/dispatchUDT_v01",
                  "tagType": "UdtInstance",
                  "tags": [
                    {
                      "name": "testExpression",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "setpointDispatchFeedback",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "_dispatchDiscreteStartWithDiscreteFeedbackActive",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "stopDispatchFeedback",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "_dispatchAnalogWithCalculatedFeedbackActive",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "_dispatchAnalogWithAnalogFeedbackActive",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "startDispatch",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "stopDispatch",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "preactivation",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "_dispatchManualDispatch",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "_dispatchDiscreteWithCalculatedFeedbackActive",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "_dispatchDiscreteStopWithDiscreteFeedbackActive",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "setpointDispatch",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "_dispatchManualDispatchEnable",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "_dispatchConfirmedInactive",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "_dispatchNOTConfirmedAlarm",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "_dispatchConfirmedActive",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "startDispatchFeedback",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "telemetryValues",
                  "typeId": "Autogrid/NotUsed/Renewables_DR_ChildUDTs/telemetry_v01",
                  "tagType": "UdtInstance",
                  "tags": [
                    {
                      "name": "measuredSolarIrradiance",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "measuredFrequency",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "measuredRealPower",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "measuredWindSpeed",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "customBool2",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "measuredReactivePower",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "customInt2",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "customFloat1",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "monitoredTurbineStatus",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "customInt1",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "measuredVolts",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "customFloat2",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "customBool1",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "monitoredInverterStatus",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "measuredAmps",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "measuredTemperature",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "systemStatus",
                  "typeId": "Autogrid/NotUsed/Renewables_DR_ChildUDTs/systemStatusUDT_v01",
                  "tagType": "UdtInstance",
                  "tags": [
                    {
                      "name": "systemFaultStatus",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "systemSiteFaultStatus",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "systemCloudFaultStatus",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "businessServices",
                  "typeId": "Autogrid/NotUsed/Renewables_DR_ChildUDTs/businessServicesUDT_v01",
                  "tagType": "UdtInstance",
                  "tags": [
                    {
                      "name": "businessAvailable",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "heartbeat",
                  "typeId": "Autogrid/NotUsed/Renewables_DR_ChildUDTs/heartbeatUDT_v01",
                  "tagType": "UdtInstance",
                  "tags": [
                    {
                      "name": "watchdogHeartbeatFeedback",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "watchdogHeartbeat",
                      "tagType": "AtomicTag"
                    },
                    {
                      "enabled": {
                        "bindType": "parameter",
                        "binding": "{config_hasHeartbeat}"
                      },
                      "name": "_heartbeatUpdate",
                      "tagType": "AtomicTag"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "name": "UDT_SolarSim",
          "typeId": "Autogrid/UDT_Mother",
          "parameters": {
            "flex_active_power": {
              "dataType": "String",
              "value": "GEN_POWER_ACTUAL_RAW"
            },
            "flex_network_connectivity": {
              "dataType": "String",
              "value": "NETWORK_CONNECTIVITY"
            },
            "flex_power_constraint": {
              "dataType": "String",
              "value": "POWER_CONSTRAINT"
            },
            "flex_voltage": {
              "dataType": "String",
              "value": "VOLTAGE"
            },
            "flex_constraint_reason": {
              "dataType": "String",
              "value": "CONSTRAINT_REASON"
            },
            "flex_reactive_power": {
              "dataType": "String",
              "value": "REACTIVE_POWER"
            },
            "kafkaTenant": {
              "dataType": "String",
              "value": "totalspain"
            },
            "flex_max_power_producible": {
              "dataType": "String",
              "value": "MAX_POWER_PRODUCIBLE"
            },
            "SitePowerCapacity(MW)": {
              "dataType": "Integer",
              "value": 5
            },
            "kafkaDevicePathPrefix": {
              "dataType": "String",
              "value": "[AutoGrid Kafka]"
            },
            "SiteName": {
              "dataType": "String",
              "value": "SiteNameDefault"
            },
            "flex_power_constraint_ack": {
              "dataType": "String",
              "value": "POWER_CONSTRAINT_ACK"
            },
            "SiteDesc": {
              "dataType": "String",
              "value": "SiteDescDefault"
            },
            "flex_grid_connection_status": {
              "dataType": "String",
              "value": "GRID_CONNECTION_STATUS"
            }
          },
          "tagType": "UdtType",
          "tags": [
            {
              "valueSource": "memory",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.value \u003e 0:\n\t\tautogrid.utils.createKafkaTags(tagPath, tag.name)"
                }
              ],
              "name": "_create_kafka_tag",
              "value": 0,
              "tagType": "AtomicTag"
            },
            {
              "name": "REE",
              "tagType": "Folder",
              "tags": [
                {
                  "valueSource": "memory",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\treadPaths \u003d [\"[.]../Operating_Mode\",\"[.]REE_Power_Constraint\",\"[.]REE_Constraint_Reason\"]\n\twritePaths \u003d [\"[.]../Power_Constraint\"]\n\t\t\t\n\tqValues \u003d system.tag.readBlocking(readPaths)\n\t\t\t\n\tif (qValues[0].value \u003d\u003d \"Automatic\" and qValues[2].value \u003e 0):\n\t\tsystem.tag.writeBlocking(writePaths,qValues[1])\t"
                    }
                  ],
                  "dataType": "Float4",
                  "name": "REE_Power_Constraint",
                  "enabled": true,
                  "tagType": "AtomicTag",
                  "opcServer": "Ignition OPC UA Server"
                },
                {
                  "valueSource": "memory",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\treadPaths \u003d [\"[.]../Operating_Mode\",\"[.]REE_Power_Constraint\",\"[.]REE_Constraint_Reason\"]\n\twritePaths \u003d [\"[.]../Power_Constraint\"]\n\t\n\tqValues \u003d system.tag.readBlocking(readPaths)\n\t\n\tif previousValue.value \u003d\u003d 0 and currentValue.value \u003e 0 and qValues[0].value !\u003d \"Semi-Automatic\" or \"Manual\":\n\t\tsystem.tag.writeBlocking(writePaths,qValues[1])\t"
                    }
                  ],
                  "dataType": "String",
                  "name": "REE_Constraint_Reason",
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t  autogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_network_connectivity\u0027, currentValue.value)\n"
                }
              ],
              "dataType": "Boolean",
              "name": "Network Connectivity",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d[{SiteName}]1.HRF40008"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_constraint_reason\u0027 , currentValue.value)\n\t"
                }
              ],
              "dataType": "Float8",
              "name": "Constraint_Reason",
              "enabled": true,
              "tagType": "AtomicTag",
              "opcServer": "Ignition OPC UA Server"
            },
            {
              "name": "SiteDesc",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d[{SiteName}]1.HRF40010"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_max_power_producible\u0027, currentValue.value)\n"
                }
              ],
              "dataType": "Float8",
              "name": "Max_Power_Producible",
              "enabled": true,
              "tagType": "AtomicTag",
              "opcServer": "Ignition OPC UA Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d[{SiteName}]1.HRF40008"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_reactive_power\u0027 , currentValue.value)\n\t"
                }
              ],
              "dataType": "Float8",
              "name": "Reactive_Power",
              "enabled": true,
              "tagType": "AtomicTag",
              "opcServer": "Ignition OPC UA Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d[{SiteName}]1.HRF40006"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_active_power\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Float8",
              "name": "Active_Power",
              "enabled": true,
              "tagType": "AtomicTag",
              "opcServer": "Ignition OPC UA Server"
            },
            {
              "valueSource": "memory",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\twritePaths \u003d [\"[.]Power_Constraint\"]\n\treadPaths \u003d [\"[.]REE/REE_Power_Constraint\"]\n\t\n\tqValues \u003d system.tag.readBlocking(readPaths)\n\t\n\tif currentValue.value \u003d\u003d \"Automatic\" and [\"[.]REE/REE_Constraint_Reason\"] !\u003d 0 :\n\t\tsystem.tag.writeBlocking(writePaths,qValues[0].value)\t"
                }
              ],
              "dataType": "String",
              "name": "Operating_Mode",
              "executionMode": "FixedRate",
              "value": "",
              "tagType": "AtomicTag"
            },
            {
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_grid_connection_status\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Boolean",
              "name": "Grid_Connection_Status",
              "readPermissions": {
                "type": "AllOf",
                "securityLevels": []
              },
              "enabled": true,
              "tagType": "AtomicTag",
              "opcServer": "Ignition OPC UA Server"
            },
            {
              "name": "SiteName",
              "tagType": "AtomicTag"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d[{SiteName}]1.HRF40012"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_voltage\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Float8",
              "name": "Voltage",
              "readPermissions": {
                "type": "AllOf",
                "securityLevels": []
              },
              "enabled": true,
              "tagType": "AtomicTag",
              "opcServer": "Ignition OPC UA Server"
            },
            {
              "valueSource": "memory",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027Manual_Power_Constraint\u0027 , currentValue.value)"
                }
              ],
              "opcItemPath": "",
              "dataType": "Float8",
              "name": "Power_Constraint_Manual",
              "enabled": true,
              "tagType": "AtomicTag",
              "opcServer": "Ignition OPC UA Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d[{SiteName}]1.HRF40000"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_power_constraint\u0027 , currentValue.value)\n"
                }
              ],
              "dataType": "Float4",
              "name": "Power_Constraint",
              "enabled": true,
              "tagType": "AtomicTag",
              "opcServer": "Ignition OPC UA Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d[{SiteName}]1.HRF40002"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_power_constraint_ack\u0027 , currentValue.value)\n\t"
                }
              ],
              "dataType": "Float4",
              "name": "Power_Constraint_Ack",
              "enabled": true,
              "tagType": "AtomicTag",
              "opcServer": "Ignition OPC UA Server"
            }
          ]
        },
        {
          "name": "PJM_Site_DNP3Master",
          "parameters": {
            "Telemetry_Heartbeat_ProtogateTag": {
              "dataType": "String",
              "value": "/HB_OUT"
            },
            "Telemetery_FleetREGD_ProtogateTag": {
              "dataType": "String",
              "value": "/FLEET_REGD_FEEDBACK"
            },
            "Telemetry_FleetTREG_ProtogateTag": {
              "dataType": "String",
              "value": "/FLEET_TREG"
            },
            "MQTTNodePath": {
              "dataType": "String"
            },
            "MQTTBaseTagPath": {
              "dataType": "String",
              "value": ""
            },
            "CandS_Heartbeat_ProtogateTag": {
              "dataType": "String",
              "value": "/HB_IN"
            },
            "CandS_REGD_ProtogateTag": {
              "dataType": "String",
              "value": "/REGD"
            },
            "Telemetry_FleetCREG_ProtogateTag": {
              "dataType": "String",
              "value": "/FLEET_CREG"
            },
            "Telemetry_LoadBP_ProtogateTag": {
              "dataType": "String",
              "value": "/LOADBP"
            }
          },
          "tagType": "UdtType",
          "tags": [
            {
              "sourceTagPath": {
                "bindType": "parameter",
                "binding": "{MQTTNodePath}/Node Info/Online"
              },
              "valueSource": "reference",
              "expression": "{MQTTBaseTagPath}/Node Info/Online",
              "dataType": "Boolean",
              "name": "_connectivityGood",
              "tagType": "AtomicTag"
            },
            {
              "name": "ControlAndSetpoints",
              "tagType": "Folder",
              "tags": [
                {
                  "sourceTagPath": {
                    "bindType": "parameter",
                    "binding": "{MQTTBaseTagPath}{CandS_REGD_ProtogateTag}"
                  },
                  "valueSource": "reference",
                  "scaleMode": "Linear",
                  "dataType": "Float4",
                  "name": "REGD",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                },
                {
                  "sourceTagPath": {
                    "bindType": "parameter",
                    "binding": "{MQTTBaseTagPath}{CandS_Heartbeat_ProtogateTag}"
                  },
                  "valueSource": "reference",
                  "name": "Heartbeat",
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "name": "Telemetry",
              "tagType": "Folder",
              "tags": [
                {
                  "sourceTagPath": {
                    "bindType": "parameter",
                    "binding": "{MQTTBaseTagPath}{Telemetry_Heartbeat_ProtogateTag}"
                  },
                  "valueSource": "reference",
                  "name": "Heartbeat",
                  "tagType": "AtomicTag"
                },
                {
                  "sourceTagPath": {
                    "bindType": "parameter",
                    "binding": "{MQTTBaseTagPath}{Telemetry_FleetTREG_ProtogateTag}"
                  },
                  "valueSource": "reference",
                  "rawHigh": 1.0,
                  "scaleMode": "Linear",
                  "name": "TREG",
                  "engUnit": "MW",
                  "tagType": "AtomicTag",
                  "scaledHigh": 10.0
                },
                {
                  "sourceTagPath": {
                    "bindType": "parameter",
                    "binding": "{MQTTBaseTagPath}{Telemetry_LoadBP_ProtogateTag}"
                  },
                  "valueSource": "reference",
                  "rawHigh": 1.0,
                  "scaleMode": "Linear",
                  "name": "LoadBP",
                  "engUnit": "MW",
                  "tagType": "AtomicTag",
                  "scaledHigh": 10.0
                },
                {
                  "sourceTagPath": {
                    "bindType": "parameter",
                    "binding": "{MQTTBaseTagPath}{Telemetry_FleetCREG_ProtogateTag}"
                  },
                  "valueSource": "reference",
                  "rawHigh": 1.0,
                  "scaleMode": "Linear",
                  "name": "CREG",
                  "engUnit": "MW",
                  "tagType": "AtomicTag",
                  "scaledHigh": 10.0
                },
                {
                  "sourceTagPath": {
                    "bindType": "parameter",
                    "binding": "{MQTTBaseTagPath}{Telemetery_FleetREGD_ProtogateTag}"
                  },
                  "valueSource": "reference",
                  "scaleMode": "Linear",
                  "dataType": "Float4",
                  "name": "REGD",
                  "tagType": "AtomicTag",
                  "scaledHigh": 1.0
                }
              ]
            }
          ]
        },
        {
          "name": "PJM_BESS_Asset",
          "typeId": "",
          "parameters": {
            "heartbeat_Stale_Timeout": {
              "dataType": "Integer",
              "value": 60
            },
            "flex_Alarms/ExtinguisherPreDischarge_Address": {
              "dataType": "String",
              "value": ""
            },
            "Alarms_ExtinguisherFault_Address": {
              "dataType": "String"
            },
            "Telemetry_ReactivePower_Address": {
              "dataType": "String"
            },
            "ControlAndSetpoints_OverrideSetpoint_Address": {
              "dataType": "String"
            },
            "flex_ControlAndSetpoints/LoadBasepoint_Address": {
              "dataType": "String",
              "value": "LOADBP"
            },
            "flex_Alarms/ExtinguisherDischarged_Address": {
              "dataType": "String",
              "value": ""
            },
            "DNP3MasterA_MQTTPath": {
              "dataType": "String"
            },
            "BESS_Historian_Path": {
              "dataType": "String"
            },
            "Alarms_ExtinguisherPreDischarge_Address": {
              "dataType": "String"
            },
            "flex_Telemetry/Status_Address": {
              "dataType": "String",
              "value": ""
            },
            "BESS_OPCServer": {
              "dataType": "String"
            },
            "flex_ControlAndSetpoints/AssetTREG_Address": {
              "dataType": "String",
              "value": "ASSET_TREG"
            },
            "ControlAndSetpoints_AssignedRegultation_Address": {
              "dataType": "String"
            },
            "flex_ControlAndSetpoints/Override_Address": {
              "dataType": "String",
              "value": ""
            },
            "Telemetry_BESSHeartbeat_Address": {
              "dataType": "String"
            },
            "flex_Alarms/Inverter1Alarm_Address": {
              "dataType": "String",
              "value": ""
            },
            "flex_Alarms/Inverter2Alarm_Address": {
              "dataType": "String",
              "value": ""
            },
            "Alarms_ExtinguisherDischarged_Address": {
              "dataType": "String"
            },
            "Alarm_Pipeline": {
              "dataType": "String",
              "value": "CAISO_RIG/EmailNotifyMarketOps"
            },
            "Status_DeviceConnectivity_Address": {
              "dataType": "String",
              "value": "_Meta:[Diagnostics]/Is Connected"
            },
            "flex_ControlAndSetpoints/MinSOC_Address": {
              "dataType": "String",
              "value": ""
            },
            "Alarms_Inverter1Alarm_Address": {
              "dataType": "String"
            },
            "ControlAndSetpoints_LoadBasepoint_Address": {
              "dataType": "String"
            },
            "DNP3MasterB_MQTTNodePath": {
              "dataType": "String"
            },
            "flex_Telemetry/ReactivePower_Address": {
              "dataType": "String",
              "value": ""
            },
            "Telemetry_ActivePower_Address": {
              "dataType": "String",
              "value": ""
            },
            "Alarms_Inverter2Alarm_Address": {
              "dataType": "String"
            },
            "BESS_OPCBasePath": {
              "dataType": "String"
            },
            "flex_Telemetry/ActivePower_Address": {
              "dataType": "String",
              "value": "GEN_POWER_ACTUAL"
            },
            "DNP3MasterA_MQTTNodePath": {
              "dataType": "String"
            },
            "flex_Alarms/Inverter1Fault_Address": {
              "dataType": "String",
              "value": ""
            },
            "Telemetry_Status_Address": {
              "dataType": "String"
            },
            "Telemetry_Humidity_Address": {
              "dataType": "String",
              "value": ""
            },
            "flex_Telemetry/Humidity_Address": {
              "dataType": "String",
              "value": "HUMIDITY"
            },
            "flex_Alarms/Inverter2Fault_Address6": {
              "dataType": "String",
              "value": ""
            },
            "flex_Telemetry/BESSHeartbeat_Address": {
              "dataType": "String",
              "value": "BESS_HB"
            },
            "Telemetry_Temperature_Address": {
              "dataType": "String",
              "value": ""
            },
            "kafkaDevicePathPrefix": {
              "dataType": "String",
              "value": "[AutoGrid Kafka]"
            },
            "flex_ControlAndSetpoints/AREGD_Address": {
              "dataType": "String",
              "value": "AREGD"
            },
            "flex_ControlandSetpoints/MaxSOC_Address": {
              "dataType": "String",
              "value": ""
            },
            "ControlAndSetpoints_Setpoint_Address": {
              "dataType": "String"
            },
            "ControlAndSetpoints_MaxSOC_Address": {
              "dataType": "String"
            },
            "flex_ControlAndSetpoints/Setpoint": {
              "dataType": "String",
              "value": "SET_POINT_ABS"
            },
            "Alarm_TEST_Notification_Text": {
              "dataType": "String",
              "value": "***** THIS IS A TEST ******"
            },
            "ControlAndSetpoints_Override_Address": {
              "dataType": "String"
            },
            "ControlAndSetpoints_MinSOC_Address": {
              "dataType": "String"
            },
            "DNP3MasterB_MQTTPath": {
              "dataType": "String"
            },
            "Telemetry_StateOfCharge_Address": {
              "dataType": "String",
              "value": ""
            },
            "kafkaTenant": {
              "dataType": "String",
              "value": "bhc"
            },
            "Alarms_Inverter2Fault_Address": {
              "dataType": "String"
            },
            "Alarms_Inverter1Fault_Address": {
              "dataType": "String"
            },
            "flex_Alarms/ExtinguisherFault_Address": {
              "dataType": "String",
              "value": ""
            },
            "flex_ControlAndSetpoints/OverrideSetpoint_Address": {
              "dataType": "String",
              "value": ""
            },
            "flex_Telemetry/Temperature_Address": {
              "dataType": "String",
              "value": "AIRTEMP"
            },
            "flex_Telemetry/StateOfCharge_Address": {
              "dataType": "String",
              "value": "SOE_PCT_ACTUAL"
            },
            "flex_Telemetry/AssetCREG_Address": {
              "dataType": "String",
              "value": "ASSET_CREG"
            }
          },
          "tagType": "UdtType",
          "tags": [
            {
              "name": "ControlAndSetpoints",
              "tagType": "Folder",
              "tags": [
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{ControlAndSetpoints_OverrideSetpoint_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"ControlAndSetpoints/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\t"
                    }
                  ],
                  "scaleMode": "Linear",
                  "historyTimeDeadband": 0,
                  "name": "OverrideSetpoint",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{ControlAndSetpoints_LoadBasepoint_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"ControlAndSetpoints/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\tautogrid.BessAsset.controllers.calculateAssetSetpoint(tagPath.replace(\u0027/\u0027+tag.name,\u0027\u0027))\n\t"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "name": "LoadBasepoint",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{ControlAndSetpoints_AssignedRegultation_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "historyTimeDeadband": 0,
                  "name": "AssignedRegulation",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "valueSource": "expr",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"ControlAndSetpoints/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tautogrid.BessAsset.controllers.updateDNP3Masters ( UDTInstancePath, UDTInstanceTag, currentValue.value)\n\tautogrid.BessAsset.controllers.calculateAssetSetpoint(tagPath.replace(\u0027/\u0027+tag.name,\u0027\u0027))\n\tsystem.tag.writeBlocking([\"[.]AssignedRegulation\"], [currentValue])\n\t"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "expression": "tag(\u0027[.]../\u0027+ tag(\u0027[.]../_ActiveDNP3Master\u0027)+\u0027/ControlAndSetpoints/AREGD\u0027)\r\n",
                  "dataType": "Float4",
                  "name": "AREGD",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{ControlAndSetpoints_Setpoint_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"ControlAndSetpoints/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\t"
                    }
                  ],
                  "scaleMode": "Linear",
                  "historyTimeDeadband": 0,
                  "dataType": "Float4",
                  "name": "Setpoint",
                  "historyEnabled": true,
                  "tagType": "AtomicTag",
                  "scaledHigh": 10.0
                },
                {
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "valueSource": "memory",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"ControlAndSetpoints/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\tautogrid.BessAsset.controllers.calculateAssetSetpoint(tagPath.replace(\u0027/\u0027+tag.name,\u0027\u0027))\n\t"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "name": "AssetTREG",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{ControlAndSetpoints_MinSOC_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"ControlAndSetpoints/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\t"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "name": "MinSOC",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{ControlAndSetpoints_MaxSOC_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"ControlAndSetpoints/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\t"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "name": "MaxSOC",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{ControlAndSetpoints_Override_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"ControlAndSetpoints/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\t"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "name": "Override",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "valueSource": "expr",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"ControlAndSetpoints/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n#\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\tautogrid.BessAsset.controllers.calculateAssetSetpoint(tagPath.replace(\u0027/\u0027+tag.name,\u0027\u0027))\n"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "expression": "tag(\u0027[.]../\u0027+ tag(\u0027[.]../_ActiveDNP3Master\u0027)+\u0027/ControlAndSetpoints/REGD\u0027)\r\n\r\n",
                  "dataType": "Float4",
                  "name": "REGD",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "valueSource": "expr",
              "expression": "if({[.]DNP3MasterA/_connectivityGood},\"DNP3MasterA\",if({[.]DNP3MasterB/_connectivityGood},\"DNP3MasterB\", \"\") )",
              "dataType": "String",
              "alarms": [
                {
                  "name": "No Active DNP3 Master",
                  "label": "{InstanceName}",
                  "priority": "High",
                  "setpointA": {
                    "bindType": "Expression",
                    "value": "len({[.]_ActiveDNP3Master}) \u003d\u003d 0"
                  },
                  "activePipeline": {
                    "bindType": "UDTParameter",
                    "value": "{Alarm_Pipeline}"
                  },
                  "CustomEmailMessage": {
                    "bindType": "UDTParameter",
                    "value": "{Alarm_Test_Nofification_Text}"
                  }
                }
              ],
              "name": "_ActiveDNP3Master",
              "tagType": "AtomicTag"
            },
            {
              "name": "DNP3MasterA",
              "typeId": "Autogrid/NotUsed/PJM_BESS_DNP3Master",
              "parameters": {
                "MQTTNodePath": {
                  "dataType": "String",
                  "value": {
                    "bindType": "parameter",
                    "binding": "{DNP3MasterA_MQTTNodePath}"
                  }
                },
                "MQTTBaseTagPath": {
                  "dataType": "String",
                  "value": {
                    "bindType": "parameter",
                    "binding": "{DNP3MasterA_MQTTPath}"
                  }
                }
              },
              "tagType": "UdtInstance",
              "tags": [
                {
                  "name": "Telemetry",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "ActivePower",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "ReactivePower",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "AREGD",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "_connectivityGood",
                  "tagType": "AtomicTag"
                },
                {
                  "name": "ControlAndSetpoints",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "AREGD",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "REGD",
                      "tagType": "AtomicTag"
                    }
                  ]
                }
              ]
            },
            {
              "name": "DNP3MasterB",
              "typeId": "Autogrid/NotUsed/PJM_BESS_DNP3Master",
              "parameters": {
                "Telemetry_TREG_ProtogateTag": {
                  "dataType": "String",
                  "value": "/TREG"
                },
                "Telemetry_ReactivePower_ProtogateTag": {
                  "dataType": "String",
                  "value": "/MVAR"
                },
                "Telemetery_REGD_ProtogateTag": {
                  "dataType": "String",
                  "value": "/REGD_Feedback"
                },
                "CandS_REGD_ProtogateTag": {
                  "dataType": "String",
                  "value": "/REGD"
                },
                "Telemetry_ActivePower_ProtogateTag": {
                  "dataType": "String",
                  "value": "/MW"
                },
                "Telemetry_CREG_ProtogateTag": {
                  "dataType": "String",
                  "value": "/CREG"
                },
                "Telemetry_Heartbeat_ProtogateTag": {
                  "dataType": "String",
                  "value": "/HB_OUT"
                },
                "MQTTNodePath": {
                  "dataType": "String",
                  "value": {
                    "bindType": "parameter",
                    "binding": "{DNP3MasterB_MQTTNodePath}"
                  }
                },
                "MQTTBaseTagPath": {
                  "dataType": "String",
                  "value": {
                    "bindType": "parameter",
                    "binding": "{DNP3MasterB_MQTTPath}"
                  }
                },
                "CandS_Heartbeat_ProtogateTag": {
                  "dataType": "String",
                  "value": "/HB_IN"
                },
                "CandS_AREGD_PrototgateTag": {
                  "dataType": "String",
                  "value": "/AREGD"
                },
                "Telemetry_AREGD_ProtogateTag": {
                  "dataType": "String",
                  "value": "/AREGD_Feedback"
                },
                "Telemetry_LoadBP_ProtogateTag": {
                  "dataType": "String",
                  "value": "/LOADBP"
                }
              },
              "tagType": "UdtInstance",
              "tags": [
                {
                  "name": "_connectivityGood",
                  "tagType": "AtomicTag"
                },
                {
                  "name": "ControlAndSetpoints",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "REGD",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "AREGD",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "Telemetry",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "AREGD",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "ActivePower",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "ReactivePower",
                      "tagType": "AtomicTag"
                    }
                  ]
                }
              ]
            },
            {
              "name": "Alarms",
              "tagType": "Folder",
              "tags": [
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Status_DeviceConnectivity_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "expr",
                  "historyTimeDeadband": 0,
                  "expression": "dateDiff({[.]../Telemetry/BESSHeartbeat.timestamp}, now(), \"seconds\") \u003c {heartbeat_Stale_Timeout}",
                  "dataType": "Boolean",
                  "sourceTagPath": "[System]Gateway/Devices/lawnside/Status",
                  "alarms": [
                    {
                      "timeOnDelaySeconds": 60.0,
                      "name": "BESS Controller Heartbeat LOSS",
                      "label": "{InstanceName}",
                      "displayPath": "BESS Controller Heartbeat LOSS",
                      "priority": "High",
                      "activePipeline": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_Pipeline}"
                      },
                      "CustomEmailMessage": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_TEST_Notification_Text}"
                      }
                    }
                  ],
                  "name": "_BessHeartbeatGood",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Alarms_ExtinguisherDischarged_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "historyTimeDeadband": 0,
                  "alarms": [
                    {
                      "setpointA": 1.0,
                      "name": "BESS Fire Extinguisher Discharged",
                      "label": "{InstanceName}",
                      "displayPath": "BESS Fire Extinguisher Discharged",
                      "priority": "Critical",
                      "activePipeline": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_Pipeline}"
                      },
                      "CustomEmailMessage": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_TEST_Notification_Text}"
                      }
                    }
                  ],
                  "name": "ExtinguisherDischarged",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Alarms_Inverter1Alarm_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "historyTimeDeadband": 0,
                  "alarms": [
                    {
                      "setpointA": 1.0,
                      "name": "Inverter #1 Alarm",
                      "label": "{InstanceName}",
                      "priority": "Medium",
                      "displayPath": "Inverter #1 Alarm",
                      "activePipeline": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_Pipeline}"
                      },
                      "CustomEmailMessage": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_TEST_Notification_Text}"
                      }
                    }
                  ],
                  "name": "Inverter1Alarm",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Status_DeviceConnectivity_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "historyTimeDeadband": 0,
                  "dataType": "Boolean",
                  "sourceTagPath": "[System]Gateway/Devices/lawnside/Status",
                  "alarms": [
                    {
                      "timeOnDelaySeconds": 60.0,
                      "name": "BESS Controller Connectivity LOSS",
                      "label": "{InstanceName}",
                      "displayPath": "BESS Controller Connectivity LOSS",
                      "priority": "High",
                      "activePipeline": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_Pipeline}"
                      },
                      "CustomEmailMessage": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_TEST_Notification_Text}"
                      }
                    }
                  ],
                  "name": "_BessConnectivityGood",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Alarms_Inverter2Alarm_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "historyTimeDeadband": 0,
                  "alarms": [
                    {
                      "setpointA": 1.0,
                      "name": "Inverter #2 Alarm",
                      "label": "{InstanceName}",
                      "priority": "Medium",
                      "displayPath": "Inverter #2 Alarm",
                      "activePipeline": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_Pipeline}"
                      },
                      "CustomEmailMessage": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_TEST_Notification_Text}"
                      }
                    }
                  ],
                  "name": "Inverter2Alarm",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Alarms_ExtinguisherPreDischarge_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "historyTimeDeadband": 0,
                  "alarms": [
                    {
                      "setpointA": 1.0,
                      "name": "Extinguisher Pre-discharge",
                      "label": "{InstanceName}",
                      "priority": "Critical",
                      "displayPath": "Extinguisher Pre-discharge",
                      "activePipeline": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_Pipeline}"
                      },
                      "CustomEmailMessage": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_TEST_Notification_Text}"
                      }
                    }
                  ],
                  "name": "ExtinguisherPreDischarge",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Alarms_ExtinguisherFault_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "historyTimeDeadband": 0,
                  "alarms": [
                    {
                      "setpointA": 1.0,
                      "name": "Extinguisher Fault",
                      "label": "{InstanceName}",
                      "displayPath": "Extinguisher Fault",
                      "activePipeline": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_Pipeline}"
                      },
                      "CustomEmailMessage": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_TEST_Notification_Text}"
                      }
                    }
                  ],
                  "name": "ExtinguisherFault",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Alarms_Inverter1Fault_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "historyTimeDeadband": 0,
                  "alarms": [
                    {
                      "setpointA": 1.0,
                      "name": "Inverter #1 Fault",
                      "label": "{InstanceName}",
                      "priority": "High",
                      "displayPath": "Inverter #1 Fault",
                      "activePipeline": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_Pipeline}"
                      },
                      "CustomEmailMessage": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_TEST_Notification_Text}"
                      }
                    }
                  ],
                  "name": "Inverter1Fault",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Alarms_Inverter2Fault_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "historyTimeDeadband": 0,
                  "alarms": [
                    {
                      "setpointA": 1.0,
                      "name": "Inverter #2 Fault",
                      "label": "{InstanceName}",
                      "displayPath": "Inverter #2 Fault",
                      "activePipeline": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_Pipeline}"
                      },
                      "CustomEmailMessage": {
                        "bindType": "UDTParameter",
                        "value": "{Alarm_TEST_Notification_Text}"
                      }
                    }
                  ],
                  "name": "Inverter2Fault",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "name": "Telemetry",
              "tagType": "Folder",
              "tags": [
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Telemetry_Temperature_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\t"
                    }
                  ],
                  "scaleMode": "Linear",
                  "historyTimeDeadband": 0,
                  "dataType": "Float4",
                  "name": "Temperature",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Telemetry_Status_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\t"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "name": "Status",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Telemetry_ActivePower_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\tautogrid.BessAsset.controllers.updateDNP3Masters ( UDTInstancePath, UDTInstanceTag, currentValue.value)\n\t"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "name": "ActivePower",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Telemetry_ReactivePower_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\tautogrid.BessAsset.controllers.updateDNP3Masters ( UDTInstancePath, UDTInstanceTag, currentValue.value)\n\t"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "name": "ReactivePower",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Telemetry_BESSHeartbeat_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\t"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "name": "BESSHeartbeat",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "valueSource": "expr",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\t\t"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "expression": "{[.]ActivePower}- {[.]../ControlAndSetpoints/LoadBasepoint}",
                  "name": "AssetCREG",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Telemetry_StateOfCharge_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n\t"
                    }
                  ],
                  "historyTimeDeadband": 0,
                  "name": "StateOfCharge",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                },
                {
                  "opcItemPath": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCBasePath}{Telemetry_Humidity_Address}"
                  },
                  "historyProvider": {
                    "bindType": "parameter",
                    "binding": "{BESS_Historian_Path}"
                  },
                  "opcServer": {
                    "bindType": "parameter",
                    "binding": "{BESS_OPCServer}"
                  },
                  "valueSource": "opc",
                  "eventScripts": [
                    {
                      "eventid": "valueChanged",
                      "script": "\tUDTInstanceTag \u003d \"Telemetry/\"+tag.name\n\tUDTInstancePath \u003d tagPath.replace(\"/\"+UDTInstanceTag,\u0027\u0027)\n\tautogrid.BessAsset.controllers.updateKafkaValue(UDTInstancePath,UDTInstanceTag , currentValue.value)\n"
                    }
                  ],
                  "scaleMode": "Linear",
                  "historyTimeDeadband": 0,
                  "dataType": "Float4",
                  "name": "Humidity",
                  "historyEnabled": true,
                  "tagType": "AtomicTag"
                }
              ]
            },
            {
              "valueSource": "memory",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tautogrid.BessAsset.controllers.createAssetLevelKafkaTags(tagPath, tag.Name)\t"
                }
              ],
              "name": "_createKafkaTags",
              "tagType": "AtomicTag"
            }
          ]
        }
      ]
    },
    {
      "name": "UDT_REE_Site",
      "typeId": "",
      "parameters": {
        "REE_site_prefix": {
          "dataType": "String"
        }
      },
      "tagType": "UdtType",
      "tags": [
        {
          "name": "To TOTSA",
          "tagType": "Folder",
          "tags": [
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d/From REE_1/{REE_site_prefix}_ACS"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027ACS\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Float8",
              "name": "ACS",
              "tagType": "AtomicTag",
              "enabled": true,
              "opcServer": "ipConv OPC UA 1.02 Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d/From REE_1/{REE_site_prefix}_ACS_CR"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027ACS-CR\u0027 , currentValue.value)"
                }
              ],
              "name": "ACS-CR",
              "tagType": "AtomicTag",
              "opcServer": "ipConv OPC UA 1.02 Server"
            }
          ]
        },
        {
          "name": "From TOTSA",
          "tagType": "Folder",
          "tags": [
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d/To REE/{REE_site_prefix}_GRID_CONNECTION_STATUS"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027Grid_Connection_Status\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Boolean",
              "name": "Grid_Connection_Status",
              "readPermissions": {
                "type": "AllOf",
                "securityLevels": []
              },
              "value": true,
              "tagType": "AtomicTag",
              "enabled": true,
              "opcServer": "ipConv OPC UA 1.02 Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d/To REE/{REE_site_prefix}_H_PLUS_1"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027H_Plus_1\u0027 , currentValue.value)\t"
                }
              ],
              "dataType": "Float4",
              "name": "H_Plus_1",
              "tagType": "AtomicTag",
              "opcServer": "ipConv OPC UA 1.02 Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d/To REE/{REE_site_prefix}_H_PLUS_2"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027H_Plus_2\u0027 , currentValue.value)\t\t"
                }
              ],
              "dataType": "Float4",
              "name": "H_Plus_2",
              "tagType": "AtomicTag",
              "opcServer": "ipConv OPC UA 1.02 Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d/To REE/{REE_site_prefix}_H_PLUS_4"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027H_Plus_4\u0027 , currentValue.value)\t\t"
                }
              ],
              "dataType": "Float4",
              "name": "H_Plus_4",
              "tagType": "AtomicTag",
              "opcServer": "ipConv OPC UA 1.02 Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d/To REE/{REE_site_prefix}_VOLTAGE"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027Voltage\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Float8",
              "name": "Voltage",
              "readPermissions": {
                "type": "AllOf",
                "securityLevels": []
              },
              "tagType": "AtomicTag",
              "enabled": true,
              "opcServer": "ipConv OPC UA 1.02 Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d/To REE/{REE_site_prefix}_ACTIVE_POWER"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027Active_Power\u0027 , currentValue.value)"
                }
              ],
              "dataType": "Float8",
              "name": "Active_Power",
              "tagType": "AtomicTag",
              "enabled": true,
              "opcServer": "ipConv OPC UA 1.02 Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d/To REE/{REE_site_prefix}_H_PLUS_3"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027H_Plus_3\u0027 , currentValue.value)\t\t"
                }
              ],
              "dataType": "Float4",
              "name": "H_Plus_3",
              "tagType": "AtomicTag",
              "opcServer": "ipConv OPC UA 1.02 Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d/To REE/{REE_site_prefix}_REACTIVE_POWER"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027Reactive_Power\u0027 , currentValue.value)\n\t"
                }
              ],
              "dataType": "Float8",
              "name": "Reactive_Power",
              "tagType": "AtomicTag",
              "enabled": true,
              "opcServer": "ipConv OPC UA 1.02 Server"
            },
            {
              "opcItemPath": {
                "bindType": "parameter",
                "binding": "ns\u003d1;s\u003d/To REE/{REE_site_prefix}_MAXIMUM_POWER_PRODUCIBLE"
              },
              "valueSource": "opc",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027Max_Power_Producible\u0027, currentValue.value)\n"
                }
              ],
              "dataType": "Float8",
              "name": "Max_Power_Producible",
              "tagType": "AtomicTag",
              "enabled": true,
              "opcServer": "ipConv OPC UA 1.02 Server"
            }
          ]
        }
      ]
    },
    {
      "name": "UDT_SolarSite",
      "typeId": "Autogrid/UDT_Mother",
      "parameters": {
        "flex_active_power": {
          "dataType": "String",
          "value": "GEN_POWER_ACTUAL_RAW"
        },
        "flex_network_connectivity": {
          "dataType": "String",
          "value": "NETWORK_CONNECTIVITY"
        },
        "flex_power_constraint": {
          "dataType": "String",
          "value": "POWER_CONSTRAINT"
        },
        "ACS_Enable": {
          "dataType": "Integer",
          "value": 1
        },
        "flex_voltage": {
          "dataType": "String",
          "value": "VOLTAGE"
        },
        "flex_constraint_reason": {
          "dataType": "String",
          "value": "CONSTRAINT_REASON"
        },
        "flex_reactive_power": {
          "dataType": "String",
          "value": "REACTIVE_POWER"
        },
        "kafkaServicePoint": {
          "dataType": "String",
          "value": "DefaultServicePoint"
        },
        "kafkaTenant": {
          "dataType": "String",
          "value": "totalspain"
        },
        "flex_max_power_producible": {
          "dataType": "String",
          "value": "MAX_POWER_PRODUCIBLE"
        },
        "SitePowerCapacity(MW)": {
          "dataType": "Integer",
          "value": 5
        },
        "kafkaDevicePathPrefix": {
          "dataType": "String",
          "value": "[AutoGrid Kafka]"
        },
        "SiteName": {
          "dataType": "String",
          "value": "SiteNameDefault"
        },
        "sitePrefix": {
          "dataType": "String"
        },
        "Controllable": {
          "dataType": "Integer",
          "value": 1
        },
        "flex_power_constraint_ack": {
          "dataType": "String",
          "value": "POWER_CONSTRAINT_ACK"
        },
        "SiteDesc": {
          "dataType": "String",
          "value": "SiteDescDefault"
        },
        "flex_grid_connection_status": {
          "dataType": "String",
          "value": "GRID_CONNECTION_STATUS"
        }
      },
      "tagType": "UdtType",
      "tags": [
        {
          "opcItemPath": {
            "bindType": "parameter",
            "binding": "[{SiteName}]1.HRF40002"
          },
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPCServer}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_power_constraint_ack\u0027 , currentValue.value)\n\t"
            }
          ],
          "dataType": "Float4",
          "name": "Power_Constraint_Ack",
          "tagGroup": "Retrieve from Site",
          "tagType": "AtomicTag",
          "enabled": true
        },
        {
          "opcItemPath": {
            "bindType": "parameter",
            "binding": "[{SiteName}]1.HRF40006"
          },
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPCServer}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t        #send data to AG flex\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_active_power\u0027 , currentValue.value)\n\t\t\t#send data to REE\n\t\t\tautogrid.utils.sendToREE(tagPath, currentValue)"
            }
          ],
          "dataType": "Float8",
          "name": "Active_Power",
          "tagGroup": "Retrieve from Site",
          "tagType": "AtomicTag",
          "enabled": true
        },
        {
          "opcItemPath": {
            "bindType": "parameter",
            "binding": "[{SiteName}][Diagnostics]/Connected"
          },
          "eventScripts": [
            {
              "eventid": "alarmActive",
              "script": "\tsystem.tag.writeBlocking([\u0027[.]Operating_Mode\u0027],[\u0027Automatic\u0027])"
            }
          ],
          "dataType": "Boolean",
          "tagGroup": "Retrieve from Site",
          "name": "Network Connectivity",
          "tagType": "AtomicTag"
        },
        {
          "opcItemPath": {
            "bindType": "parameter",
            "binding": "[{SiteName}]1.HRF40010"
          },
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPCServer}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_max_power_producible\u0027, currentValue.value)\n            #send data to REE\n\t\t\tautogrid.utils.sendToREE(tagPath, currentValue)"
            }
          ],
          "dataType": "Float8",
          "name": "Max_Power_Producible",
          "tagGroup": "Retrieve from Site",
          "tagType": "AtomicTag",
          "enabled": true
        },
        {
          "name": "REE",
          "tagType": "Folder",
          "tags": [
            {
              "valueSource": "expr",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\treadPaths \u003d [\"[.]../Operating_Mode\",\"[.]REE_Power_Constraint\",\"[.]REE_Constraint_Reason\"]\n\twritePaths \u003d [\"[.]../Power_Constraint\"]\n\t\n\tqValues \u003d system.tag.readBlocking(readPaths)\n\t\n\tif previousValue.value \u003d\u003d 0 and currentValue.value \u003e 0 and qValues[0].value !\u003d \"Semi-Automatic\" or \"Manual\":\n\t\tsystem.tag.writeBlocking(writePaths,qValues[1])\t"
                }
              ],
              "expression": "tag(\"[~]Total Spain/Operators/\"+ {[~]Total Spain/Operators/CURRENT_ACTIVE_TSO} +\"/Site_Specific/\"+ {SiteName} +\"/To TOTSA/ACS-CR\")",
              "dataType": "String",
              "name": "REE_Constraint_Reason",
              "tagType": "AtomicTag"
            },
            {
              "valueSource": "expr",
              "eventScripts": [
                {
                  "eventid": "valueChanged",
                  "script": "\treadPaths \u003d [\"[.]../Operating_Mode\",\"[.]REE_Power_Constraint\",\"[.]REE_Constraint_Reason\"]\n\twritePaths \u003d [\"[.]../Power_Constraint\"]\n\t\t\t\n\tqValues \u003d system.tag.readBlocking(readPaths)\n\t\t\t\n\tif (qValues[0].value \u003d\u003d \"Automatic\" and qValues[2].value \u003e 0):\n\t\tsystem.tag.writeBlocking(writePaths,qValues[1])\t"
                }
              ],
              "expression": "tag(\"[~]Total Spain/Operators/\"+ {[~]Total Spain/Operators/CURRENT_ACTIVE_TSO} +\"/Site_Specific/\"+ {SiteName} +\"/To TOTSA/ACS\")",
              "dataType": "Float4",
              "name": "REE_Power_Constraint",
              "tagType": "AtomicTag",
              "enabled": true,
              "opcServer": "Ignition OPC UA Server"
            }
          ]
        },
        {
          "valueSource": "memory",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\tif currentValue.value \u003e 0:\n\t\tautogrid.utils.createKafkaTags(tagPath, tag.name)"
            }
          ],
          "name": "_create_kafka_tag",
          "value": 0,
          "tagType": "AtomicTag"
        },
        {
          "valueSource": "memory",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027Manual_Power_Constraint\u0027 , currentValue.value)"
            }
          ],
          "opcItemPath": "",
          "dataType": "Float8",
          "name": "Power_Constraint_Manual",
          "tagGroup": "Retrieve from Site",
          "tagType": "AtomicTag",
          "enabled": true,
          "opcServer": "Ignition OPC UA Server"
        },
        {
          "opcItemPath": {
            "bindType": "parameter",
            "binding": "[{SiteName}]1.HRF40012"
          },
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPCServer}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_voltage\u0027 , currentValue.value)\n\t\t\t#send data to REE\n\t\t\tautogrid.utils.sendToREE(tagPath, currentValue)"
            }
          ],
          "dataType": "Float8",
          "name": "Voltage",
          "readPermissions": {
            "type": "AllOf",
            "securityLevels": []
          },
          "tagGroup": "Retrieve from Site",
          "tagType": "AtomicTag",
          "enabled": true
        },
        {
          "valueSource": "memory",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\twritePaths \u003d [\"[.]Power_Constraint\"]\n\treadPaths \u003d [\"[.]REE/REE_Power_Constraint\"]\n\t\n\tqValues \u003d system.tag.readBlocking(readPaths)\n\t\n\tif currentValue.value \u003d\u003d \"Automatic\" and [\"[.]REE/REE_Constraint_Reason\"] !\u003d 0 :\n\t\tsystem.tag.writeBlocking(writePaths,qValues[0].value)\t"
            }
          ],
          "dataType": "String",
          "name": "Operating_Mode",
          "executionMode": "FixedRate",
          "value": "",
          "tagGroup": "Retrieve from Site",
          "tagType": "AtomicTag"
        },
        {
          "valueSource": "memory",
          "name": "Limitation",
          "tagType": "AtomicTag"
        },
        {
          "tagGroup": "Retrieve from Site",
          "name": "SiteName",
          "tagType": "AtomicTag"
        },
        {
          "opcItemPath": {
            "bindType": "parameter",
            "binding": "[{SiteName}]1.HRF40008"
          },
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPCServer}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\t\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_reactive_power\u0027 , currentValue.value)\n\t\t\t#send data to REE\n\t\t\tautogrid.utils.sendToREE(tagPath, currentValue)"
            }
          ],
          "dataType": "Float8",
          "name": "Reactive_Power",
          "tagGroup": "Retrieve from Site",
          "tagType": "AtomicTag",
          "enabled": true
        },
        {
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPCServer}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_grid_connection_status\u0027 , currentValue.value)\n\t\t\t#send data to REE\n\t\t\tautogrid.utils.sendToREE(tagPath, currentValue)"
            }
          ],
          "dataType": "Boolean",
          "name": "Grid_Connection_Status",
          "readPermissions": {
            "type": "AllOf",
            "securityLevels": []
          },
          "tagGroup": "Retrieve from Site",
          "tagType": "AtomicTag",
          "enabled": true
        },
        {
          "tagGroup": "Retrieve from Site",
          "name": "SiteDesc",
          "tagType": "AtomicTag"
        },
        {
          "opcItemPath": {
            "bindType": "parameter",
            "binding": "[{SiteName}]1.HRF40000"
          },
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPCServer}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\t\"\"\"When both tag quality is good and the tag value changes, the value is then updated to the Kafka Module\n\"\"\"\n\tif currentValue.quality.isGood():\n\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_power_constraint\u0027 , currentValue.value)\n"
            }
          ],
          "dataType": "Float4",
          "alarms": [
            {
              "mode": "BelowValue",
              "timeOnDelaySeconds": 30.0,
              "name": "Power Constraint Exceeded",
              "priority": "High",
              "inclusiveA": false,
              "setpointA": {
                "bindType": "Tag",
                "value": "[.]Active_Power"
              }
            },
            {
              "mode": "Inequality",
              "timeOnDelaySeconds": 30.0,
              "name": "Command Not Acknowledged",
              "priority": "High",
              "setpointA": {
                "bindType": "Tag",
                "value": "[.]Power_Constraint_Ack"
              }
            }
          ],
          "name": "Power_Constraint",
          "tagGroup": "Retrieve from Site",
          "tagType": "AtomicTag",
          "enabled": true
        }
      ]
    },
    {
      "name": "UDT_ControlCenter",
      "typeId": "",
      "parameters": {
        "flex_Site_Specific/FSOMA/From TOTSA/Active_Power": {
          "dataType": "String",
          "value": "ASM_ACTIVE_POWER"
        },
        "flex_Wind_TCS": {
          "dataType": "String",
          "value": "WIND_TCS"
        },
        "flex_Site_Specific/FSOMA/From TOTSA/Grid_Connection_Status": {
          "dataType": "String",
          "value": "ASM_GRID_CONNECTION_STATUS"
        },
        "flex_Site_Specific/FSOMA/From TOTSA/H_Plus_3": {
          "dataType": "String",
          "value": "ASM_H_PLUS_3"
        },
        "flex_Site_Specific/Solar Simulator/From TOTSA/Active_Power": {
          "dataType": "String",
          "value": "SSM_ACTIVE_POWER"
        },
        "flex_Site_Specific/SSM2/From TOTSA/Reactive_Power": {
          "dataType": "String",
          "value": "SSM2_REACTIVE_POWER"
        },
        "flex_Site_Specific/FSOMA/From TOTSA/H_Plus_2": {
          "dataType": "String",
          "value": "ASM_H_PLUS_2"
        },
        "flex_Site_Specific/Solar Simulator/From TOTSA/Reactive_Power": {
          "dataType": "String",
          "value": "SSM_REACTIVE_POWER"
        },
        "flex_Site_Specific/FSOMA/From TOTSA/H_Plus_1": {
          "dataType": "String",
          "value": "ASM_H_PLUS_1"
        },
        "flex_Solar_TCS": {
          "dataType": "String",
          "value": "SOLAR_TCS"
        },
        "flex_Site_Specific/Solar Simulator/From TOTSA/H_Plus_1": {
          "dataType": "String",
          "value": "SSM_H_PLUS_1"
        },
        "flex_Site_Specific/Solar Simulator/From TOTSA/H_Plus_2": {
          "dataType": "String",
          "value": "SSM_H_PLUS_2"
        },
        "flex_Site_Specific/Solar Simulator/From TOTSA/H_Plus_3": {
          "dataType": "String",
          "value": "SSM_H_PLUS_3"
        },
        "flex_Site_Specific/Solar Simulator/From TOTSA/H_Plus_4": {
          "dataType": "String",
          "value": "SSM_H_PLUS_4"
        },
        "OPC_Server": {
          "dataType": "String",
          "value": "ipConv OPC UA 1.02 Server"
        },
        "flex_Site_Specific/SSM2/From TOTSA/Max_Power_Producible": {
          "dataType": "String",
          "value": "SSM2_MAX_PRODUCIBLE"
        },
        "kafkaDevicePathPrefix": {
          "dataType": "String",
          "value": "[AutoGrid Kafka]"
        },
        "flex_Rol_CECRE": {
          "dataType": "String",
          "value": "ROL_CECRE"
        },
        "flex_Site_Specific/SSM2/From TOTSA/Active_Power": {
          "dataType": "String",
          "value": "SSM2_ACTIVE_POWER"
        },
        "flex_Site_Specific/FSOMA/From TOTSA/Max_Power_Producible": {
          "dataType": "String",
          "value": "ASM_MAX_PRODUCIBLE"
        },
        "flex_Site_Specific/Solar Simulator/From TOTSA/Voltage": {
          "dataType": "String",
          "value": "SSM_VOLTAGE"
        },
        "flex_Site_Specific/Solar Simulator/From TOTSA/Max_Power_Producible": {
          "dataType": "String",
          "value": "SSM_MAX_PRODUCIBLE"
        },
        "flex_GCS_CR": {
          "dataType": "String",
          "value": "GCS_CR"
        },
        "flex_Site_Specific/FSOMA/To TOTSA/ACS-CR": {
          "dataType": "String",
          "value": "ASM_ACS_CR"
        },
        "REE_SiteName": {
          "dataType": "String"
        },
        "flex_Site_Specific/SSM2/From TOTSA/H_Plus_3": {
          "dataType": "String",
          "value": "SSM2_H_PLUS_3"
        },
        "flex_Site_Specific/SSM2/From TOTSA/Grid_Connection_Status": {
          "dataType": "String",
          "value": "SSM2_GRID_CONNECTION"
        },
        "flex_Site_Specific/SSM2/From TOTSA/H_Plus_4": {
          "dataType": "String",
          "value": "SSM2_H_PLUS_4"
        },
        "flex_Site_Specific/FSOMA/To TOTSA/ACS": {
          "dataType": "String",
          "value": "ASM_ACS"
        },
        "flex_Wind_TCS_CR": {
          "dataType": "String",
          "value": "WIND_TCS_CR"
        },
        "flex_Site_Specific/SSM2/From TOTSA/H_Plus_1": {
          "dataType": "String",
          "value": "SSM2_H_PLUS_1"
        },
        "flex_Site_Specific/SSM2/From TOTSA/H_Plus_2": {
          "dataType": "String",
          "value": "SSM2_H_PLUS_2"
        },
        "flex_GCS": {
          "dataType": "String",
          "value": "GCS"
        },
        "flex_Site_Specific/Solar Simulator/To TOTSA/ACS": {
          "dataType": "String",
          "value": "SSM_ACS"
        },
        "kafkaTenant": {
          "dataType": "String",
          "value": "totalspain"
        },
        "flex_Site_Specific/SSM2/To TOTSA/ACS-CR": {
          "dataType": "String",
          "value": "SSM2_ACS_CR"
        },
        "flex_Site_Specific/Solar Simulator/From TOTSA/Grid_Connection_Status": {
          "dataType": "String",
          "value": "SSM_GRID_CONNECTION"
        },
        "flex_Site_Specific/Solar Simulator/To TOTSA/ACS-CR": {
          "dataType": "String",
          "value": "SSM_ACS_CR"
        },
        "flex_Site_Specific/SSM2/To TOTSA/ACS": {
          "dataType": "String",
          "value": "SSM2_ACS"
        },
        "flex_Site_Specific/FSOMA/From TOTSA/Reactive_Power": {
          "dataType": "String",
          "value": "ASM_REACTIVE_POWER"
        },
        "flex_Site_Specific/FSOMA/From TOTSA/H_Plus_4": {
          "dataType": "String",
          "value": "ASM_H_PLUS_4"
        },
        "flex_Solar_TCS_CR": {
          "dataType": "String",
          "value": "SOLAR_TCS_CR"
        },
        "flex_Site_Specific/SSM2/From TOTSA/Voltage": {
          "dataType": "String",
          "value": "SSM2_VOLTAGE"
        },
        "flex_Site_Specific/FSOMA/From TOTSA/Voltage": {
          "dataType": "String",
          "value": "ASM_VOLTAGE"
        }
      },
      "tagType": "UdtType",
      "tags": [
        {
          "valueSource": "memory",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\tif currentValue.value \u003e 0:\n\t\tautogrid.utils.createKafkaTags(tagPath, tag.name)"
            }
          ],
          "name": "_create_kafka_tag",
          "value": 0,
          "tagType": "AtomicTag"
        },
        {
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPC_Server}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\tif currentValue.quality.isGood():\n\t\t        #send data to AG flex\n\t\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Solar_TCS_CR\u0027 , currentValue.value)\t\t"
            }
          ],
          "opcItemPath": "ns\u003d1;s\u003d/From REE_1/SOLAR_TCS_CR",
          "name": "Solar_TCS_CR",
          "tagType": "AtomicTag"
        },
        {
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPC_Server}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\tif currentValue.quality.isGood():\n\t\t        #send data to AG flex\n\t\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Wind_TCS\u0027 , currentValue.value)\t\t"
            }
          ],
          "opcItemPath": "ns\u003d1;s\u003d/From REE_1/WIND_TCS",
          "name": "Wind_TCS",
          "tagType": "AtomicTag"
        },
        {
          "name": "Site_Specific",
          "tagType": "Folder",
          "tags": [
            {
              "name": "Solar Simulator",
              "typeId": "Autogrid/UDT_REE_Site",
              "parameters": {
                "REE_site_prefix": {
                  "dataType": "String",
                  "value": "SOLAR-SIM"
                },
                "TSO_opc_path": {
                  "dataType": "String",
                  "value": {
                    "bindType": "parameter",
                    "binding": "{{TSO_opc_path}}"
                  }
                }
              },
              "tagType": "UdtInstance",
              "tags": [
                {
                  "name": "From TOTSA",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "Reactive_Power",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Active_Power",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Grid_Connection_Status",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "H_Plus_1",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Max_Power_Producible",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "H_Plus_4",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Voltage",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "H_Plus_3",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "H_Plus_2",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "To TOTSA",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "ACS-CR",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "ACS",
                      "tagType": "AtomicTag"
                    }
                  ]
                }
              ]
            },
            {
              "name": "FSOMA",
              "typeId": "Autogrid/UDT_REE_Site",
              "parameters": {
                "REE_site_prefix": {
                  "dataType": "String",
                  "value": "ASM"
                },
                "TSO_opc_path": {
                  "dataType": "String",
                  "value": {
                    "bindType": "parameter",
                    "binding": "{TSO_opc_path}"
                  }
                }
              },
              "tagType": "UdtInstance",
              "tags": [
                {
                  "name": "To TOTSA",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "ACS",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "ACS-CR",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "From TOTSA",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "Voltage",
                      "tagType": "AtomicTag"
                    },
                    {
                      "eventScripts": [
                        {
                          "eventid": "valueChanged",
                          "script": "\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Site_Specific/La Asomada/From TOTSA/H_Plus_1\u0027 , currentValue.value)\t\t"
                        }
                      ],
                      "name": "H_Plus_2",
                      "tagType": "AtomicTag"
                    },
                    {
                      "eventScripts": [
                        {
                          "eventid": "valueChanged",
                          "script": "\tif currentValue.quality.isGood():\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Site_Specific/La Asomada/From TOTSA/H_Plus_1\u0027 , currentValue.value)\t"
                        }
                      ],
                      "name": "H_Plus_1",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Reactive_Power",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Active_Power",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Grid_Connection_Status",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "H_Plus_3",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Max_Power_Producible",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "H_Plus_4",
                      "tagType": "AtomicTag"
                    }
                  ]
                }
              ]
            },
            {
              "name": "SSM2",
              "typeId": "Autogrid/UDT_REE_Site",
              "parameters": {
                "REE_site_prefix": {
                  "dataType": "String",
                  "value": "SSM2"
                }
              },
              "tagType": "UdtInstance",
              "tags": [
                {
                  "name": "To TOTSA",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "ACS",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "ACS-CR",
                      "tagType": "AtomicTag"
                    }
                  ]
                },
                {
                  "name": "From TOTSA",
                  "tagType": "Folder",
                  "tags": [
                    {
                      "name": "H_Plus_1",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Reactive_Power",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Active_Power",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Grid_Connection_Status",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "H_Plus_4",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Voltage",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "H_Plus_2",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "Max_Power_Producible",
                      "tagType": "AtomicTag"
                    },
                    {
                      "name": "H_Plus_3",
                      "tagType": "AtomicTag"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPC_Server}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\tif currentValue.quality.isGood():\n\t\t        #send data to AG flex\n\t\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_GCS_CR\u0027 , currentValue.value)"
            }
          ],
          "opcItemPath": "ns\u003d1;s\u003d/From REE_1/GCS_CR",
          "name": "GCS_CR",
          "tagType": "AtomicTag"
        },
        {
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPC_Server}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\tif currentValue.quality.isGood():\n\t\t        #send data to AG flex\n\t\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Wind_TCS_CR\u0027 , currentValue.value)\t\t\t"
            }
          ],
          "opcItemPath": "ns\u003d1;s\u003d/From REE_1/WIND_TCS_CR",
          "name": "Wind_TCS_CR",
          "tagType": "AtomicTag"
        },
        {
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPC_server}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\tif currentValue.quality.isGood():\n\t\t        #send data to AG flex\n\t\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Solar_TCS\u0027 , currentValue.value)\t"
            }
          ],
          "opcItemPath": "ns\u003d1;s\u003d/From REE_1/SOLAR_TCS",
          "name": "Solar_TCS",
          "tagType": "AtomicTag"
        },
        {
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPC_Server}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\tif currentValue.quality.isGood():\n\t\t        #send data to AG flex\n\t\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_Rol_CECRE\u0027 , currentValue.value)"
            }
          ],
          "opcItemPath": "ns\u003d1;s\u003d/From REE_1/ROL_CECRE",
          "dataType": "Boolean",
          "name": "Rol_CECRE",
          "tagType": "AtomicTag"
        },
        {
          "opcServer": {
            "bindType": "parameter",
            "binding": "{OPC_Server}"
          },
          "valueSource": "opc",
          "eventScripts": [
            {
              "eventid": "valueChanged",
              "script": "\tif currentValue.quality.isGood():\n\t        #send data to AG flex\n\t\t\tautogrid.utils.updateKafkaValue(tagPath, tag.name, \u0027flex_GCS\u0027 , currentValue.value)\t"
            }
          ],
          "opcItemPath": "ns\u003d1;s\u003d/From REE_1/GCS",
          "name": "GCS",
          "tagType": "AtomicTag"
        }
      ]
    }
  ]
}